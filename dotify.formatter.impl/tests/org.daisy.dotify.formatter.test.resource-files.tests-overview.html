<html xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:pef="http://www.daisy.org/ns/2008/pef" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:obfl="http://www.daisy.org/ns/2011/obfl">
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Dotify Formatter Tests</title>
        <style type="text/css">
					div.volume, div.section {
						border-left-style: solid;
						border-color: #ddd;
						border-width: 1px;
						margin: 1em 1em;
					}
					div.page {
						margin: 1em 1em;
						border-style: solid;
						border-width: 1px;
						background-color: #fefefe;
					}
					div.label {
						font-family: sans-serif;
						text-color: green;
					}
					span.element {
						padding-right: 1em;
					}
					body {
						font-family: sans-serif;
						margin: 2em 2em;
					}
					h1 {
						margin-top: 2em;
					}
					a.internal {
						color: white;
						text-decoration: none;
					}
					a.internal:hover {
						color: grey;
					}
					.example {
					    padding: .5em;
    					border-left-width: .5em;
    					border-left-style: solid;
 						border-color: #e0cb52;
  						background-color: #fcfaee;
					}
				</style>
    </head>
    <body>
        <p>Updated: 2019-03-15T08:57Z</p>
        <h1 id="orphans-input.obfl">
            Orphans test<a href="#orphans-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the orphans property works as expected.</p>
        <h2>orphans-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Orphans test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the orphans property works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-top="4"&gt;⠤⠤&lt;/block&gt;
    &lt;block orphans="1"&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-top="4"&gt;⠤⠤&lt;/block&gt;
    &lt;block orphans="2"&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>orphans-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-06&lt;/dc:date&gt;
      &lt;dc:title&gt;Orphans test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that the orphans property works as expected.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-align-before-nested-blocks-input.obfl">
            vertical-position-align-before-nested-blocks<a href="#vertical-position/vertical-position-align-before-nested-blocks-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests vertical-position and vertical-align="before" on a block with two nested blocks of one line each.</p>
        <h2>vertical-position/vertical-position-align-before-nested-blocks-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;vertical-position-align-before-nested-blocks&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests vertical-position and vertical-align="before" on a block with two nested blocks of one line each.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="20" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block vertical-align="before" vertical-position="5"&gt;
      &lt;block&gt;⠤⠤⠤ &lt;/block&gt;
      &lt;block&gt;⠤⠤⠤ &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-align-before-nested-blocks-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;vertical-position-align-before-nested-blocks&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests vertical-position and vertical-align="before" on a block with two nested blocks of one line each.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-header-input.obfl">
            Vertical position test: header<a href="#vertical-position/vertical-position-header-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the vertical position property on a page with a header.</p>
        <h2>vertical-position/vertical-position-header-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position test: header&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the vertical position property on a page with a header.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠉⠉⠉⠉"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="3" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block vertical-position="3" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-header-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-08-20&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-align-before-input.obfl">
            vertical-position-align-before<a href="#vertical-position/vertical-position-align-before-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests vertical-position and vertical-align="before" on a block with two lines separated by a &lt;br/&gt;.</p>
        <h2>vertical-position/vertical-position-align-before-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;vertical-position-align-before&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests vertical-position and vertical-align="before" on a block with two lines separated by a &lt;br/&gt;.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="20" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block vertical-align="before" vertical-position="5"&gt;⠤⠤⠤
      &lt;br/&gt;
              ⠤⠤⠤
            
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-align-before-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;vertical-position-align-before&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests vertical-position and vertical-align="before" on a block with two lines separated by a &lt;br/&gt;.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-before-input.obfl">
            Vertical position test: Before alignment<a href="#vertical-position/vertical-position-before-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the vertical position property with "before" alignment and both padding, margin and border.</p>
        <h2>vertical-position/vertical-position-before-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position test: Before alignment&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the vertical position property with "before" alignment and both padding, margin and border.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="100%" vertical-align="before" padding-top="1" padding-bottom="1" margin-top="1" margin-bottom="1" border-top-style="solid" border-bottom-style="solid"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-before-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-08-20&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-dls-input.obfl">
            Vertical position test: Double line spacing<a href="#vertical-position/vertical-position-dls-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the vertical position property together with double line spacing.</p>
        <h2>vertical-position/vertical-position-dls-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position test: Double line spacing&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the vertical position property together with double line spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="10" duplex="false" row-spacing="2.0"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="2" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-dls-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-08-20&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="10" rowgap="4" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row rowgap="0"&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-borders-input.obfl">
            Vertical position test: Top border<a href="#vertical-position/vertical-position-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the vertical position property with a top border.</p>
        <h2>vertical-position/vertical-position-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position test: Top border&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the vertical position property with a top border.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="3" padding-top="1" vertical-align="after" border-top-style="solid"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-08-20&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="vertical-position/vertical-position-input.obfl">
            Vertical position test<a href="#vertical-position/vertical-position-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the vertical position property.</p>
        <h2>vertical-position/vertical-position-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the vertical position property.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="3" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>vertical-position/vertical-position-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-08-20&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="padding-sides-only-input.obfl">
            Padding with borders on sides test<a href="#padding-sides-only-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests padding with borders only on the sides</p>
        <h2>padding-sides-only-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Padding with borders on sides test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests padding with borders only on the sides&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block border-left-style="solid" border-right-style="solid" border-width="1" margin-left="2" margin-right="2" padding-left="2" padding-right="2" padding-top="1" padding-bottom="1"&gt;
      &lt;block&gt;⠤​⠤​⠤​⠤​⠤​⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>padding-sides-only-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-06&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠤⠤⠤⠤⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠤⠤⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number-input.obfl">
            Page number counter<a href="#page/page-number-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter with an insert.</p>
        <h2>page/page-number-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter with an insert.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="insert" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page number-format="lower-alpha"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number5-input.obfl">
            Page number counter duplex<a href="#page/page-number5-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter with duplex and a separate counter.</p>
        <h2>page/page-number5-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter duplex&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter with duplex and a separate counter.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="insert" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="I"/&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number5-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number7-input.obfl">
            Page number counter reset each volume<a href="#page/page-number7-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter reset.</p>
        <h2>page/page-number7-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter reset each volume&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter reset.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="5"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="body" page-number-counter="A" initial-page-number="1"&gt;
        &lt;block&gt;pre content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;post content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number7-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number8-input.obfl">
            Continue page number counter in post content<a href="#page/page-number8-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the page number counter continues in post content</p>
        <h2>page/page-number8-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Continue page number counter in post content&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the page number counter continues in post content&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="front" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="5"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="front"&gt;
        &lt;block&gt;⠞⠊⠞⠇⠑&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;⠏⠕⠎⠞&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number8-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠞⠊⠞⠇⠑&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠞⠊⠞⠇⠑&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠓&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠞⠊⠞⠇⠑&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠁&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠞⠊⠞⠇⠑&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠙&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number4-input.obfl">
            Page number counter with alternating counter<a href="#page/page-number4-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter with duplex and an alternating separate counter.</p>
        <h2>page/page-number4-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter with alternating counter&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter with duplex and an alternating separate counter.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="insert" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="I"/&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number4-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number6-input.obfl">
            Page number counter test<a href="#page/page-number6-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter with duplex, pre/post content and a separate counter.</p>
        <h2>page/page-number6-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter with duplex, pre/post content and a separate counter.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="insert" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="I"/&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="5"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;pre content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;post content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number6-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠊⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠊&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number3-input.obfl">
            Page number counter with dynamic sequences<a href="#page/page-number3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the page number counter works with pre/post content.</p>
        <h2>page/page-number3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter with dynamic sequences&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the page number counter works with pre/post content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;table-of-contents name="toc"&gt;
    &lt;toc-entry ref-id="block-1"&gt;toc 1&lt;/toc-entry&gt;
  &lt;/table-of-contents&gt;
  &lt;volume-template sheets-in-volume-max="5"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;pre content&lt;/block&gt;
      &lt;/sequence&gt;
      &lt;dynamic-sequence master="body" page-number-counter="A"&gt;
        &lt;list-of-references range="volume" collection="refs"/&gt;
      &lt;/dynamic-sequence&gt;
      &lt;toc-sequence master="body" page-number-counter="A" toc="toc" range="volume"/&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;post content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;collection name="refs"&gt;
    &lt;item id="n1"&gt;item 1&lt;/item&gt;
  &lt;/collection&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page" id="block-1"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤1A⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤1B⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤2C⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤2D⠤⠤
      &lt;anchor item="n1"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤2E⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤3F⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤3G⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤3H⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠞⠕⠉⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠼⠁⠠⠁⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠤⠼⠁⠠⠃⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠓&lt;/row&gt;
          &lt;row&gt;⠤⠼⠃⠠⠉⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠊&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠁&lt;/row&gt;
          &lt;row&gt;⠊⠞⠑⠍⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠼⠃⠠⠙⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠉&lt;/row&gt;
          &lt;row&gt;⠤⠼⠃⠠⠑⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠙&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠑&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠋&lt;/row&gt;
          &lt;row&gt;⠤⠼⠉⠠⠋⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠛&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠓&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠊&lt;/row&gt;
          &lt;row&gt;⠤⠼⠉⠠⠛⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠚&lt;/row&gt;
          &lt;row&gt;⠤⠼⠉⠠⠓⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠁&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page/page-number2-input.obfl">
            Page number counter in pre/post content<a href="#page/page-number2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the page number counter works with pre/post content.</p>
        <h2>page/page-number2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter in pre/post content&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the page number counter works with pre/post content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="5"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;pre content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="body" page-number-counter="A"&gt;
        &lt;block&gt;post content&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" page-number-counter="A"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page/page-number2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠓&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠁&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠑&lt;/row&gt;
          &lt;row&gt;⠏⠕⠎⠞⠀⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠑⠝⠞&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="leader-right-simple-input.obfl">
            Simple leader test<a href="#leader-right-simple-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests a single right aligned leader with a only one item after</p>
        <h2>leader-right-simple-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Simple leader test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests a single right aligned leader with a only one item after&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block id="chapter_1"&gt;⠤&lt;/block&gt;
    &lt;block&gt;
      &lt;leader pattern="⠄" position="100%" align="right"/&gt;
      &lt;page-number ref-id="chapter_1" number-format="default"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>leader-right-simple-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-05-09&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠄⠄⠄⠄⠄⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-priority-input.obfl">
            Volume keep priority test<a href="#volume-break/volume-breaks-priority-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that volume keep priority works. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate the
		volume-keep-priority.</p>
        <h2>volume-break/volume-breaks-priority-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Volume keep priority test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that volume keep priority works. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate the
		volume-keep-priority.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block volume-keep-priority="7"&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;/block&gt;
    &lt;block volume-keep-priority="7"&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-priority-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-15&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-uneven-input.obfl">
            Uneven volume size test<a href="#volume-break/volume-breaks-uneven-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that uneven sized volumes work.</p>
        <h2>volume-break/volume-breaks-uneven-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Uneven volume size test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that uneven sized volumes work.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3" use-when="(= $volume 1)"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-template sheets-in-volume-max="2" use-when="(= $volume 2)"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-template sheets-in-volume-max="4" use-when="(= $volume 3)"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-uneven-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-10&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks2-input.obfl">
            Several break before volume test<a href="#volume-break/volume-breaks2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works when the number of volumes is increased.</p>
        <h2>volume-break/volume-breaks2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="4"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" break-before="volume"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" break-before="volume"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" break-before="volume"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-10-18&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-priority2-input.obfl">
            Volume keep priority test<a href="#volume-break/volume-breaks-priority2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that volume keep priority works. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate the
		volume-keep-priority.</p>
        <h2>volume-break/volume-breaks-priority2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Volume keep priority test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that volume keep priority works. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate the
		volume-keep-priority.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block volume-keep-priority="7"&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-priority2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-17&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-advanced3-input.obfl">
            Several break before volume test<a href="#volume-break/volume-breaks-advanced3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works when the number of volumes is increased.</p>
        <h2>volume-break/volume-breaks-advanced3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-transition range="sheet"&gt;
    &lt;sequence-interrupted&gt;
      &lt;block&gt;⠿⠿⠿&lt;/block&gt;
    &lt;/sequence-interrupted&gt;
  &lt;/volume-transition&gt;
  &lt;sequence master="body"&gt;
    &lt;block volume-keep-priority="9"&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block volume-keep-priority="1"&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-advanced3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-keep-next-input.obfl">
            Volume keep priority test<a href="#volume-break/volume-breaks-keep-next-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that keep-with-next-sheets work. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate
		keep-with-next-sheets.</p>
        <h2>volume-break/volume-breaks-keep-next-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Volume keep priority test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that keep-with-next-sheets work. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate
		keep-with-next-sheets.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block keep-with-next-sheets="1"&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-keep-next-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-17&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-keep-previous-input.obfl">
            Volume keep with previous test<a href="#volume-break/volume-breaks-keep-previous-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that keep-with-previous-sheets work. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate
		keep-with-previous-sheets.</p>
        <h2>volume-break/volume-breaks-keep-previous-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Volume keep with previous test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that keep-with-previous-sheets work. In this test, 7 sheets in each volume is optimal.
		The maximum is set to 10 sheets in each volume, which (by the current configuration of the implementation)
		allows for 2 pages deviation. This is sufficient to shift the balance by 1 page to accommodate
		keep-with-previous-sheets.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block keep-with-previous-sheets="1"&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-keep-previous-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-17&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-advanced4-input.obfl">
            Several break before volume test<a href="#volume-break/volume-breaks-advanced4-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works when the number of volumes is increased.</p>
        <h2>volume-break/volume-breaks-advanced4-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="4"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-transition range="page"&gt;
    &lt;any-interrupted&gt;
      &lt;block&gt;⠸⠤⠸⠤⠸⠤⠸⠤⠸&lt;/block&gt;
    &lt;/any-interrupted&gt;
    &lt;any-resumed&gt;
      &lt;block&gt;⠸⠸⠸⠤⠸⠸⠤⠸⠸⠸&lt;/block&gt;
    &lt;/any-resumed&gt;
  &lt;/volume-transition&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ &lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠸&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠸⠸⠸⠤⠸⠤⠸⠸⠸&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-advanced4-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2018-09-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠸⠤⠸⠤⠸⠤⠸⠤⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠤⠸⠸⠤⠸⠸⠸&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠸&lt;/row&gt;
          &lt;row&gt;⠸⠤⠸⠤⠸⠤⠸⠤⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠤⠸⠸⠤⠸⠸⠸&lt;/row&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠸⠤⠸⠤⠸⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-advanced2-input.obfl">
            Several break before volume test<a href="#volume-break/volume-breaks-advanced2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works when the number of volumes is increased.</p>
        <h2>volume-break/volume-breaks-advanced2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-transition range="page"/&gt;
  &lt;sequence master="body"&gt;
    &lt;block volume-keep-priority="1"&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤  ⠤⠿&lt;/block&gt;
    &lt;/block&gt;
    &lt;block volume-keep-priority="1"&gt;
      &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-advanced2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks1-input.obfl">
            Break before volume test<a href="#volume-break/volume-breaks1-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works.</p>
        <h2>volume-break/volume-breaks1-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body" break-before="volume"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks1-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-06-09&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="volume-break/volume-breaks-advanced-input.obfl">
            Several break before volume test<a href="#volume-break/volume-breaks-advanced-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that break-before volume works when the number of volumes is increased.</p>
        <h2>volume-break/volume-breaks-advanced-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Several break before volume test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that break-before volume works when the number of volumes is increased.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="4"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-transition range="page"&gt;
    &lt;sequence-interrupted&gt;
      &lt;block&gt;⠸⠤⠸⠤⠸⠤⠸⠤⠸&lt;/block&gt;
    &lt;/sequence-interrupted&gt;
    &lt;sequence-resumed&gt;
      &lt;block&gt;⠸⠸⠸⠤⠸⠸⠤⠸⠸⠸&lt;/block&gt;
    &lt;/sequence-resumed&gt;
  &lt;/volume-transition&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠸&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>volume-break/volume-breaks-advanced-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠸⠤⠸⠤⠸⠤⠸⠤⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠤⠸⠸⠤⠸⠸⠸&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="border/nested-blocks-with-borders-input.obfl">
            nested-blocks-with-borders<a href="#border/nested-blocks-with-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests nested blocks with borders and margins.</p>
        <h2>border/nested-blocks-with-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;nested-blocks-with-borders&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests nested blocks with borders and margins.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-left="1" margin-right="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
      &lt;block margin-left="2" margin-right="2" margin-top="1" margin-bottom="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
        &lt;block margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" align="center"&gt;⠿⠿⠿⠿
                  &lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>border/nested-blocks-with-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;nested-blocks-with-borders&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests nested blocks with borders and margins.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="10" cols="20" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="border/border-align-center-input.obfl">
            border-align-center<a href="#border/border-align-center-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests top and bottom borders with align="center".</p>
        <h2>border/border-align-center-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;border-align-center&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests top and bottom borders with align="center".&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="center" border-bottom-style="solid" border-bottom-align="center" align="center"&gt;⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>border/border-align-center-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;border-align-center&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests top and bottom borders with align="center".&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠖⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠲&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠓⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠚&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="border/border-center-input.obfl">
            Border center test<a href="#border/border-center-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests border alignment.</p>
        <h2>border/border-center-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Border center test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests border alignment.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="40" page-height="29" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block border-style="solid" border-width="1" border-align="center"&gt;⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>border/border-center-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-09-10&lt;/dc:date&gt;
      &lt;dc:title&gt;Nested borders margin test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests margins with multiple borders. This test verifies that margins that are separated by borders aren't collapsed.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="29" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠖⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠲&lt;/row&gt;
          &lt;row&gt;⠇⠤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠓⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠚&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="border/border-inner-input.obfl">
            Border inner test<a href="#border/border-inner-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests border alignment.</p>
        <h2>border/border-inner-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Border inner test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests border alignment.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="40" page-height="29" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block border-style="solid" border-width="1" border-align="inner"&gt;⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>border/border-inner-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-09-10&lt;/dc:date&gt;
      &lt;dc:title&gt;Border inner test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests border alignment.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="29" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠄&lt;/row&gt;
          &lt;row&gt;⠸⠤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠇&lt;/row&gt;
          &lt;row&gt;⠈⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="border/border-outer-input.obfl">
            Border outer test<a href="#border/border-outer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests border alignment.</p>
        <h2>border/border-outer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Border outer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests border alignment.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="40" page-height="29" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block border-style="solid" border-width="1" border-align="outer"&gt;⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>border/border-outer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-09-10&lt;/dc:date&gt;
      &lt;dc:title&gt;Border outer test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests border alignment.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="29" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="hyphenate/hyphenate-input.obfl">
            Hyphenation test<a href="#hyphenate/hyphenate-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the hyphenation property works.</p>
        <h2>hyphenate/hyphenate-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Hyphenation test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the hyphenation property works.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="8" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body" hyphenate="true"&gt;
    &lt;block&gt;hyphenation&lt;/block&gt;
    &lt;block hyphenate="false"&gt;hyphenation
			
      &lt;block hyphenate=""&gt;hyphenation&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>hyphenate/hyphenate-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-09-16&lt;/dc:date&gt;
      &lt;dc:title&gt;Hyphenation test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that the hyphenation property works.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="8" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠓⠽⠏⠓⠑⠝⠁⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠕⠝&lt;/row&gt;
          &lt;row&gt;⠓⠽⠏⠓⠑⠝⠁⠞&lt;/row&gt;
          &lt;row&gt;⠊⠕⠝&lt;/row&gt;
          &lt;row&gt;⠓⠽⠏⠓⠑⠝⠁⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠕⠝&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="hyphenate/hyphenate-last-line2-input.obfl">
            Avoid last line hyphenation<a href="#hyphenate/hyphenate-last-line2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests avoid last line hyphenation (simplex)</p>
        <h2>hyphenate/hyphenate-last-line2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Avoid last line hyphenation&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests avoid last line hyphenation (simplex)&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="9" page-height="6"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="2"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸
		&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>hyphenate/hyphenate-last-line2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2017-12-14&lt;/dc:date&gt;
      &lt;dc:title&gt;Avoid last line hyphenation&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests avoid last line hyphenation (simplex)&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠸⠸⠀⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠸⠸⠀⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="hyphenate/hyphenate-last-line3-input.obfl">
            Avoid last line hyphenation<a href="#hyphenate/hyphenate-last-line3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests avoid last line hyphenation (simplex)</p>
        <h2>hyphenate/hyphenate-last-line3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Avoid last line hyphenation&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests avoid last line hyphenation (simplex)&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="9" page-height="6"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="2"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸
		⠸&shy;⠸
		&lt;/block&gt;
    &lt;block break-before="page"&gt;⠸⠸&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>hyphenate/hyphenate-last-line3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠀⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="hyphenate/hyphenate-last-line-input.obfl">
            Avoid last line hyphenation<a href="#hyphenate/hyphenate-last-line-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests avoid last line hyphenation (duplex)</p>
        <h2>hyphenate/hyphenate-last-line-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Avoid last line hyphenation&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests avoid last line hyphenation (duplex)&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="true" page-width="9" page-height="6"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="2"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸&shy;⠸
		⠸&shy;⠸&shy;⠸&shy;⠸
		&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>hyphenate/hyphenate-last-line-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠸⠸⠀⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸⠸⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸⠀⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="9" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠸⠸⠸⠸⠀⠸⠸⠤&lt;/row&gt;
          &lt;row&gt;⠸⠸&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-indicator2-input.obfl">
            Margin region indicators test<a href="#marker-indicator2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that margin region indicators work.</p>
        <h2>marker-indicator2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Margin region indicators test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that margin region indicators work.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="6" duplex="true" inner-margin="2" outer-margin="2"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="3"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="sections" indicator="⠤"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="sections" indicator="⠤"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="3"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="1"/&gt;
      &lt;marker class="pages" value="1"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="2"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="2"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="3"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-indicator2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠀⠶⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠶⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠶⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠿⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠶⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="widows-input.obfl">
            Widows test<a href="#widows-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the widows property works as expected.</p>
        <h2>widows-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Widows test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the widows property works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block widows="1"&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block widows="2"&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>widows-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-06&lt;/dc:date&gt;
      &lt;dc:title&gt;Widows test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that the widows property works as expected.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="padding-nested-input.obfl">
            Nested borders padding test<a href="#padding-nested-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests padding with multiple borders</p>
        <h2>padding-nested-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Nested borders padding test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests padding with multiple borders&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="18" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block border-style="solid" border-width="1" margin-left="2" margin-right="2" padding-left="2" padding-right="2" padding-top="1" padding-bottom="1"&gt;
      &lt;block border-style="solid" border-width="1" padding-left="1" padding-right="1" padding-top="1" padding-bottom="1"&gt;
        &lt;block&gt;⠤​⠤​⠤​⠤​⠤​⠤&lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>padding-nested-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-06&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="18" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠏⠉⠉⠉⠉⠉⠉⠹⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠤⠤⠤⠤⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠤⠤⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠧⠤⠤⠤⠤⠤⠤⠼⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="multi-line-header-input.obfl">
            Multi line header test<a href="#multi-line-header-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that multiple headers work.</p>
        <h2>multi-line-header-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Multi line header test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that multiple headers work.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠤⠤"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠤⠤"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>multi-line-header-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-07&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-indicator-input.obfl">
            Margin region indicators test<a href="#marker-indicator-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that margin region indicators work.</p>
        <h2>marker-indicator-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Margin region indicators test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that margin region indicators work.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="6" duplex="false" inner-margin="2" outer-margin="2"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
          &lt;marker-indicator markers="sections" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages sections" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="1"/&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="1"/&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-indicator-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-12-08&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠿⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠿⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="translate-input.obfl">
            Translation test<a href="#translate-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the translate property works. Note that this test uses an
		implementation specific translation mode, which isn't in the OBFL-specification. Also,
		because of this the generated PEF-file is invalid, but it proves that the translator 
		property works.</p>
        <h2>translate-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Translation test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the translate property works. Note that this test uses an
		implementation specific translation mode, which isn't in the OBFL-specification. Also,
		because of this the generated PEF-file is invalid, but it proves that the translator 
		property works.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;Translation&lt;/block&gt;
    &lt;block translate="bypass"&gt;no translation&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>translate-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-28&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠞⠗⠁⠝⠎⠇⠁⠞⠊⠕⠝&lt;/row&gt;
          &lt;row&gt;no translation&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-footer-with-marker-reference-input.obfl">
            <a href="#flow-in/flow-in-footer-with-marker-reference-input.obfl" class="internal"> &para;</a>
        </h1>
        <p></p>
        <h2>flow-in/flow-in-footer-with-marker-reference-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" hyphenate="true" xml:lang="sv"&gt;
  &lt;layout-master name="main" page-width="15" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;&nbsp;"/&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="⠿⠿"/&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-footer-with-marker-reference-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-12-14&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠀⠀⠀⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠀⠀⠀⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer1-input.obfl">
            Text flow in header/footer test<a href="#flow-in/flow-in-header-footer1-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer1-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Text flow in header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="10" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠿&nbsp;&nbsp;"/&gt;
        &lt;/field&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer1-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer7-input.obfl">
            Align/margin with text flow into header/footer test<a href="#flow-in/flow-in-header-footer7-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests align/margin combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer7-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Align/margin with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests align/margin combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠭"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block align="center"&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block align="right"&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block margin-left="2"&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer7-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠤⠤⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠤⠤⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer2-input.obfl">
            Page border with text flow in header/footer test<a href="#flow-in/flow-in-header-footer2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests page border combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page border with text flow in header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests page border combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="10" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true" border-style="solid" border-width="1"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠿&nbsp;&nbsp;"/&gt;
        &lt;/field&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠿⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠿⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer11-input.obfl">
            Page area with text flow in header/footer test<a href="#flow-in/flow-in-header-footer11-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests page area combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer11-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page area with text flow in header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests page area combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="40" page-height="29" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
    &lt;page-area align="bottom" max-height="10" collection="footnotes" fallback="endnotes"&gt;
      &lt;before&gt;... Footnotes 
        &lt;leader position="100%" pattern="."/&gt;
      &lt;/before&gt;
      &lt;after&gt;
        &lt;leader position="50%" pattern=" " align="center"/&gt;--- END ---
      &lt;/after&gt;
    &lt;/page-area&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="50"&gt;
    &lt;pre-content/&gt;
    &lt;post-content&gt;
      &lt;dynamic-sequence master="main"&gt;
        &lt;list-of-references collection="endnotes" range="volume"&gt;
          &lt;on-collection-start&gt;
            &lt;block margin-top="3"&gt;Footnotes&lt;/block&gt;
          &lt;/on-collection-start&gt;
          &lt;on-page-start&gt;
            &lt;block margin-top="1"&gt;
              &lt;evaluate expression="(format "Page {0}" $started-page-number)"/&gt;
            &lt;/block&gt;
          &lt;/on-page-start&gt;
          &lt;on-collection-end&gt;
            &lt;block&gt;End of footnotes.&lt;/block&gt;
          &lt;/on-collection-end&gt;
        &lt;/list-of-references&gt;
      &lt;/dynamic-sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;collection name="footnotes"&gt;
    &lt;item id="note1" text-indent="4"&gt;1) This is a text from "THE HOUND OF THE BASKERVILLES" by A. Conan Doyle with meaningless footnotes added, to demonstrate this feature.&lt;/item&gt;
    &lt;item id="note2" text-indent="4"&gt;2) This note belongs to the second paragraph.&lt;/item&gt;
    &lt;item id="note3" text-indent="4"&gt;3) This is the third note.&lt;/item&gt;
    &lt;item id="note4" text-indent="4"&gt;4) This note is at the end of a long paragraph.&lt;/item&gt;
    &lt;item id="note5" text-indent="4"&gt;5) This note is further down the text, but the text is still fairly short.&lt;/item&gt;
    &lt;item id="note6" text-indent="4"&gt;6) This note is on the last page.&lt;/item&gt;
    &lt;item id="note7" text-indent="4"&gt;* This is a note that appears several times.&lt;/item&gt;
  &lt;/collection&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;Mr. Sherlock Holmes, who was usually very late in the mornings, save upon those not infrequent occasions when he was up all night, was seated at the breakfast table. I stood upon the hearth-rug and picked up the stick which our visitor had left behind him the night before. It was a fine, thick piece of wood, bulbous-headed, of the sort which is known as a "Penang lawyer." Just under the head was a broad silver band nearly an inch across. "To James Mortimer, M.R.C.S., from his friends of the C.C.H.," was engraved upon it, with the date "1884." It was just such a stick as the old-fashioned family practitioner used to carry&mdash;dignified, solid, and reassuring.
      &lt;style name="sup"&gt;1&lt;/style&gt;
      &lt;anchor item="note1"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"Well, Watson, what do you make of it?"
      &lt;style name="sup"&gt;2&lt;/style&gt;
      &lt;anchor item="note2"/&gt;
    &lt;/block&gt;
    &lt;block&gt;Holmes was sitting with his back to me, and I had given him no sign of my occupation.
      &lt;style name="sup"&gt;3&lt;/style&gt;
      &lt;anchor item="note3"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"How did you know what I was doing? I believe you have eyes in the back of your head."&lt;/block&gt;
    &lt;block&gt;"I have, at least, a well-polished, silver-plated coffee-pot in front of me," said he. "But, tell me, Watson, what do you make of our visitor's stick? Since we have been so unfortunate as to miss him and have no notion of his errand, this accidental souvenir becomes of importance. Let me hear you reconstruct the man by an examination of it."&lt;/block&gt;
    &lt;block&gt;"I think," said I, following as far as I could the methods of my companion, "that Dr. Mortimer is a successful, elderly medical man, well-esteemed since those who know him give him this mark of their appreciation."
      &lt;style name="sup"&gt;4&lt;/style&gt;
      &lt;anchor item="note4"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"Good!" said Holmes. "Excellent!"&lt;/block&gt;
    &lt;block&gt;"I think also that the probability is in favour of his being a country practitioner who does a great deal of his visiting on foot."&lt;/block&gt;
    &lt;block&gt;"Why so?"&lt;/block&gt;
    &lt;block&gt;"Because this stick, though originally a very handsome one has been so knocked about that I can hardly imagine a town practitioner carrying it. The thick-iron ferrule is worn down, so it is evident that he has done a great amount of walking with it."&lt;/block&gt;
    &lt;block&gt;"Perfectly sound!" said Holmes.
      &lt;style name="sup"&gt;*&lt;/style&gt;
      &lt;anchor item="note7"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"And then again, there is the 'friends of the C.C.H.' I should guess that to be the Something Hunt, the local hunt to whose members he has possibly given some surgical assistance, and which has made him a small presentation in return."&lt;/block&gt;
    &lt;block&gt;"Really, Watson, you excel yourself," said Holmes, pushing back his chair and lighting a cigarette. "I am bound to say that in all the accounts which you have been so good as to give of my own small achievements you have habitually underrated your own abilities. It may be that you are not yourself luminous, but you are a conductor of light. Some people without possessing genius have a remarkable power of stimulating it. I confess, my dear fellow, that I am very much in your debt."&lt;/block&gt;
    &lt;block&gt;He had never said as much before, and I must admit that his words gave me keen pleasure, for I had often been piqued by his indifference to my admiration and to the attempts which I had made to give publicity to his methods.
      &lt;style name="sup"&gt;5&lt;/style&gt;
      &lt;anchor item="note5"/&gt; I was proud, too, to think that I had so far mastered his system as to apply it in a way which earned his approval. He now took the stick from my hands and examined it for a few minutes with his naked eyes. Then with an expression of interest he laid down his cigarette, and carrying the cane to the window, he looked over it again with a convex lens.
    &lt;/block&gt;
    &lt;block&gt;"Interesting, though elementary," said he as he returned to his favourite corner of the settee. "There are certainly one or two indications upon the stick. It gives us the basis for several deductions."&lt;/block&gt;
    &lt;block&gt;"Has anything escaped me?" I asked with some self-importance. "I trust that there is nothing of consequence which I have overlooked?"&lt;/block&gt;
    &lt;block&gt;"I am afraid, my dear Watson, that most of your conclusions were erroneous. When I said that you stimulated me I meant, to be frank, that in noting your fallacies I was occasionally guided towards the truth. Not that you are entirely wrong in this instance. The man is certainly a country practitioner. And he walks a good deal."&lt;/block&gt;
    &lt;block&gt;"Then I was right."&lt;/block&gt;
    &lt;block&gt;"To that extent."
      &lt;style name="sup"&gt;*&lt;/style&gt;
      &lt;anchor item="note7"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"But that was all."
      &lt;style name="sup"&gt;*&lt;/style&gt;
      &lt;anchor item="note7"/&gt;
    &lt;/block&gt;
    &lt;block&gt;"No, no, my dear Watson, not all&mdash;by no means all. I would suggest, for example, that a presentation to a doctor is more likely to come from a hospital than from a hunt, and that when the initials 'C.C.' are placed before that hospital the words 'Charing Cross' very naturally suggest themselves."&lt;/block&gt;
    &lt;block&gt;"You may be right."
      &lt;style name="sup"&gt;6&lt;/style&gt;
      &lt;anchor item="note6"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer11-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="29" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠍⠗⠄⠀⠠⠎⠓⠑⠗⠇⠕⠉⠅⠀⠠⠓⠕⠇⠍⠑⠎⠂⠀⠺⠓⠕⠀⠺⠁⠎⠀⠥⠎⠥⠁⠇⠇⠽&lt;/row&gt;
          &lt;row&gt;⠧⠑⠗⠽⠀⠇⠁⠞⠑⠀⠊⠝⠀⠞⠓⠑⠀⠍⠕⠗⠝⠊⠝⠛⠎⠂⠀⠎⠁⠧⠑⠀⠥⠏⠕⠝&lt;/row&gt;
          &lt;row&gt;⠞⠓⠕⠎⠑⠀⠝⠕⠞⠀⠊⠝⠋⠗⠑⠟⠥⠑⠝⠞⠀⠕⠉⠉⠁⠎⠊⠕⠝⠎⠀⠺⠓⠑⠝⠀⠓⠑&lt;/row&gt;
          &lt;row&gt;⠺⠁⠎⠀⠥⠏⠀⠁⠇⠇⠀⠝⠊⠛⠓⠞⠂⠀⠺⠁⠎⠀⠎⠑⠁⠞⠑⠙⠀⠁⠞⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠃⠗⠑⠁⠅⠋⠁⠎⠞⠀⠞⠁⠃⠇⠑⠄⠀⠠⠊⠀⠎⠞⠕⠕⠙⠀⠥⠏⠕⠝⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠓⠑⠁⠗⠞⠓⠤⠗⠥⠛⠀⠁⠝⠙⠀⠏⠊⠉⠅⠑⠙⠀⠥⠏⠀⠞⠓⠑⠀⠎⠞⠊⠉⠅⠀⠺⠓⠊⠉⠓&lt;/row&gt;
          &lt;row&gt;⠕⠥⠗⠀⠧⠊⠎⠊⠞⠕⠗⠀⠓⠁⠙⠀⠇⠑⠋⠞⠀⠃⠑⠓⠊⠝⠙⠀⠓⠊⠍⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠝⠊⠛⠓⠞⠀⠃⠑⠋⠕⠗⠑⠄⠀⠠⠊⠞⠀⠺⠁⠎⠀⠁⠀⠋⠊⠝⠑⠂⠀⠞⠓⠊⠉⠅&lt;/row&gt;
          &lt;row&gt;⠏⠊⠑⠉⠑⠀⠕⠋⠀⠺⠕⠕⠙⠂⠀⠃⠥⠇⠃⠕⠥⠎⠤⠓⠑⠁⠙⠑⠙⠂⠀⠕⠋⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠎⠕⠗⠞⠀⠺⠓⠊⠉⠓⠀⠊⠎⠀⠅⠝⠕⠺⠝⠀⠁⠎⠀⠁⠀⠰⠠⠏⠑⠝⠁⠝⠛⠀⠇⠁⠺⠤&lt;/row&gt;
          &lt;row&gt;⠽⠑⠗⠄⠰⠀⠠⠚⠥⠎⠞⠀⠥⠝⠙⠑⠗⠀⠞⠓⠑⠀⠓⠑⠁⠙⠀⠺⠁⠎⠀⠁⠀⠃⠗⠕⠁⠙&lt;/row&gt;
          &lt;row&gt;⠎⠊⠇⠧⠑⠗⠀⠃⠁⠝⠙⠀⠝⠑⠁⠗⠇⠽⠀⠁⠝⠀⠊⠝⠉⠓⠀⠁⠉⠗⠕⠎⠎⠄⠀⠰⠠⠞⠕&lt;/row&gt;
          &lt;row&gt;⠠⠚⠁⠍⠑⠎⠀⠠⠍⠕⠗⠞⠊⠍⠑⠗⠂⠀⠠⠍⠄⠠⠗⠄⠠⠉⠄⠠⠎⠄⠂⠀⠋⠗⠕⠍⠀⠓⠊⠎&lt;/row&gt;
          &lt;row&gt;⠋⠗⠊⠑⠝⠙⠎⠀⠕⠋⠀⠞⠓⠑⠀⠠⠉⠄⠠⠉⠄⠠⠓⠄⠂⠰⠀⠺⠁⠎⠀⠑⠝⠛⠗⠁⠧⠑⠙&lt;/row&gt;
          &lt;row&gt;⠥⠏⠕⠝⠀⠊⠞⠂⠀⠺⠊⠞⠓⠀⠞⠓⠑⠀⠙⠁⠞⠑⠀⠰⠼⠁⠓⠓⠙⠄⠰⠀⠠⠊⠞⠀⠺⠁⠎&lt;/row&gt;
          &lt;row&gt;⠚⠥⠎⠞⠀⠎⠥⠉⠓⠀⠁⠀⠎⠞⠊⠉⠅⠀⠁⠎⠀⠞⠓⠑⠀⠕⠇⠙⠤⠋⠁⠎⠓⠊⠕⠝⠑⠙&lt;/row&gt;
          &lt;row&gt;⠋⠁⠍⠊⠇⠽⠀⠏⠗⠁⠉⠞⠊⠞⠊⠕⠝⠑⠗⠀⠥⠎⠑⠙⠀⠞⠕⠀⠉⠁⠗⠗⠽⠤⠤⠙⠊⠛⠤&lt;/row&gt;
          &lt;row&gt;⠝⠊⠋⠊⠑⠙⠂⠀⠎⠕⠇⠊⠙⠂⠀⠁⠝⠙⠀⠗⠑⠁⠎⠎⠥⠗⠊⠝⠛⠄⠬⠼⠁&lt;/row&gt;
          &lt;row&gt;⠰⠠⠺⠑⠇⠇⠂⠀⠠⠺⠁⠞⠎⠕⠝⠂⠀⠺⠓⠁⠞⠀⠙⠕⠀⠽⠕⠥⠀⠍⠁⠅⠑⠀⠕⠋&lt;/row&gt;
          &lt;row&gt;⠊⠞⠢⠰⠬⠼⠃&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠼⠁⠴⠀⠠⠞⠓⠊⠎⠀⠊⠎⠀⠁⠀⠞⠑⠭⠞⠀⠋⠗⠕⠍⠀⠰⠠⠠⠠⠞⠓⠑⠀⠓⠕⠥⠝⠙&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠕⠋⠀⠞⠓⠑⠀⠃⠁⠎⠅⠑⠗⠧⠊⠇⠇⠑⠎⠱⠰⠀⠃⠽⠀⠠⠁⠄⠀⠠⠉⠕⠝⠁⠝&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠠⠙⠕⠽⠇⠑⠀⠺⠊⠞⠓⠀⠍⠑⠁⠝⠊⠝⠛⠇⠑⠎⠎⠀⠋⠕⠕⠞⠝⠕⠞⠑⠎&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠁⠙⠙⠑⠙⠂⠀⠞⠕⠀⠙⠑⠍⠕⠝⠎⠞⠗⠁⠞⠑⠀⠞⠓⠊⠎⠀⠋⠑⠁⠞⠥⠗⠑⠄&lt;/row&gt;
          &lt;row&gt;⠼⠃⠴⠀⠠⠞⠓⠊⠎⠀⠝⠕⠞⠑⠀⠃⠑⠇⠕⠝⠛⠎⠀⠞⠕⠀⠞⠓⠑⠀⠎⠑⠉⠕⠝⠙&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠏⠁⠗⠁⠛⠗⠁⠏⠓⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠓⠕⠇⠍⠑⠎⠀⠺⠁⠎⠀⠎⠊⠞⠞⠊⠝⠛⠀⠺⠊⠞⠓⠀⠓⠊⠎⠀⠃⠁⠉⠅⠀⠞⠕⠀⠍⠑⠂&lt;/row&gt;
          &lt;row&gt;⠁⠝⠙⠀⠠⠊⠀⠓⠁⠙⠀⠛⠊⠧⠑⠝⠀⠓⠊⠍⠀⠝⠕⠀⠎⠊⠛⠝⠀⠕⠋⠀⠍⠽⠀⠕⠉⠉⠥⠤&lt;/row&gt;
          &lt;row&gt;⠏⠁⠞⠊⠕⠝⠄⠬⠼⠉&lt;/row&gt;
          &lt;row&gt;⠰⠠⠓⠕⠺⠀⠙⠊⠙⠀⠽⠕⠥⠀⠅⠝⠕⠺⠀⠺⠓⠁⠞⠀⠠⠊⠀⠺⠁⠎⠀⠙⠕⠊⠝⠛⠢⠀⠠⠊&lt;/row&gt;
          &lt;row&gt;⠃⠑⠇⠊⠑⠧⠑⠀⠽⠕⠥⠀⠓⠁⠧⠑⠀⠑⠽⠑⠎⠀⠊⠝⠀⠞⠓⠑⠀⠃⠁⠉⠅⠀⠕⠋&lt;/row&gt;
          &lt;row&gt;⠽⠕⠥⠗⠀⠓⠑⠁⠙⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠊⠀⠓⠁⠧⠑⠂⠀⠁⠞⠀⠇⠑⠁⠎⠞⠂⠀⠁⠀⠺⠑⠇⠇⠤⠏⠕⠇⠊⠎⠓⠑⠙⠂&lt;/row&gt;
          &lt;row&gt;⠎⠊⠇⠧⠑⠗⠤⠏⠇⠁⠞⠑⠙⠀⠉⠕⠋⠋⠑⠑⠤⠏⠕⠞⠀⠊⠝⠀⠋⠗⠕⠝⠞⠀⠕⠋&lt;/row&gt;
          &lt;row&gt;⠍⠑⠂⠰⠀⠎⠁⠊⠙⠀⠓⠑⠄⠀⠰⠠⠃⠥⠞⠂⠀⠞⠑⠇⠇⠀⠍⠑⠂⠀⠠⠺⠁⠞⠎⠕⠝⠂&lt;/row&gt;
          &lt;row&gt;⠺⠓⠁⠞⠀⠙⠕⠀⠽⠕⠥⠀⠍⠁⠅⠑⠀⠕⠋⠀⠕⠥⠗⠀⠧⠊⠎⠊⠞⠕⠗⠐⠎⠀⠎⠞⠊⠉⠅⠢&lt;/row&gt;
          &lt;row&gt;⠠⠎⠊⠝⠉⠑⠀⠺⠑⠀⠓⠁⠧⠑⠀⠃⠑⠑⠝⠀⠎⠕⠀⠥⠝⠋⠕⠗⠞⠥⠝⠁⠞⠑⠀⠁⠎⠀⠞⠕&lt;/row&gt;
          &lt;row&gt;⠍⠊⠎⠎⠀⠓⠊⠍⠀⠁⠝⠙⠀⠓⠁⠧⠑⠀⠝⠕⠀⠝⠕⠞⠊⠕⠝⠀⠕⠋⠀⠓⠊⠎⠀⠑⠗⠤&lt;/row&gt;
          &lt;row&gt;⠗⠁⠝⠙⠂⠀⠞⠓⠊⠎⠀⠁⠉⠉⠊⠙⠑⠝⠞⠁⠇⠀⠎⠕⠥⠧⠑⠝⠊⠗⠀⠃⠑⠉⠕⠍⠑⠎&lt;/row&gt;
          &lt;row&gt;⠕⠋⠀⠊⠍⠏⠕⠗⠞⠁⠝⠉⠑⠄⠀⠠⠇⠑⠞⠀⠍⠑⠀⠓⠑⠁⠗⠀⠽⠕⠥⠀⠗⠑⠉⠕⠝⠤&lt;/row&gt;
          &lt;row&gt;⠎⠞⠗⠥⠉⠞⠀⠞⠓⠑⠀⠍⠁⠝⠀⠃⠽⠀⠁⠝⠀⠑⠭⠁⠍⠊⠝⠁⠞⠊⠕⠝⠀⠕⠋⠀⠊⠞⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠊⠀⠞⠓⠊⠝⠅⠂⠰⠀⠎⠁⠊⠙⠀⠠⠊⠂⠀⠋⠕⠇⠇⠕⠺⠊⠝⠛⠀⠁⠎⠀⠋⠁⠗⠀⠁⠎&lt;/row&gt;
          &lt;row&gt;⠠⠊⠀⠉⠕⠥⠇⠙⠀⠞⠓⠑⠀⠍⠑⠞⠓⠕⠙⠎⠀⠕⠋⠀⠍⠽⠀⠉⠕⠍⠏⠁⠝⠊⠕⠝⠂&lt;/row&gt;
          &lt;row&gt;⠰⠞⠓⠁⠞⠀⠠⠙⠗⠄⠀⠠⠍⠕⠗⠞⠊⠍⠑⠗⠀⠊⠎⠀⠁⠀⠎⠥⠉⠉⠑⠎⠎⠋⠥⠇⠂&lt;/row&gt;
          &lt;row&gt;⠑⠇⠙⠑⠗⠇⠽⠀⠍⠑⠙⠊⠉⠁⠇⠀⠍⠁⠝⠂⠀⠺⠑⠇⠇⠤⠑⠎⠞⠑⠑⠍⠑⠙⠀⠎⠊⠝⠉⠑&lt;/row&gt;
          &lt;row&gt;⠞⠓⠕⠎⠑⠀⠺⠓⠕⠀⠅⠝⠕⠺⠀⠓⠊⠍⠀⠛⠊⠧⠑⠀⠓⠊⠍⠀⠞⠓⠊⠎⠀⠍⠁⠗⠅⠀⠕⠋&lt;/row&gt;
          &lt;row&gt;⠞⠓⠑⠊⠗⠀⠁⠏⠏⠗⠑⠉⠊⠁⠞⠊⠕⠝⠄⠰⠬⠼⠙&lt;/row&gt;
          &lt;row&gt;⠰⠠⠛⠕⠕⠙⠖⠰⠀⠎⠁⠊⠙⠀⠠⠓⠕⠇⠍⠑⠎⠄⠀⠰⠠⠑⠭⠉⠑⠇⠇⠑⠝⠞⠖⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠊⠀⠞⠓⠊⠝⠅⠀⠁⠇⠎⠕⠀⠞⠓⠁⠞⠀⠞⠓⠑⠀⠏⠗⠕⠃⠁⠃⠊⠇⠊⠞⠽⠀⠊⠎&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠼⠉⠴⠀⠠⠞⠓⠊⠎⠀⠊⠎⠀⠞⠓⠑⠀⠞⠓⠊⠗⠙⠀⠝⠕⠞⠑⠄&lt;/row&gt;
          &lt;row&gt;⠼⠙⠴⠀⠠⠞⠓⠊⠎⠀⠝⠕⠞⠑⠀⠊⠎⠀⠁⠞⠀⠞⠓⠑⠀⠑⠝⠙⠀⠕⠋⠀⠁⠀⠇⠕⠝⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠏⠁⠗⠁⠛⠗⠁⠏⠓⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠊⠝⠀⠋⠁⠧⠕⠥⠗⠀⠕⠋⠀⠓⠊⠎⠀⠃⠑⠊⠝⠛⠀⠁⠀⠉⠕⠥⠝⠞⠗⠽⠀⠏⠗⠁⠉⠞⠊⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠕⠝⠑⠗⠀⠺⠓⠕⠀⠙⠕⠑⠎⠀⠁⠀⠛⠗⠑⠁⠞⠀⠙⠑⠁⠇⠀⠕⠋⠀⠓⠊⠎⠀⠧⠊⠎⠤&lt;/row&gt;
          &lt;row&gt;⠊⠞⠊⠝⠛⠀⠕⠝⠀⠋⠕⠕⠞⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠺⠓⠽⠀⠎⠕⠢⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠃⠑⠉⠁⠥⠎⠑⠀⠞⠓⠊⠎⠀⠎⠞⠊⠉⠅⠂⠀⠞⠓⠕⠥⠛⠓⠀⠕⠗⠊⠛⠊⠝⠁⠇⠇⠽&lt;/row&gt;
          &lt;row&gt;⠁⠀⠧⠑⠗⠽⠀⠓⠁⠝⠙⠎⠕⠍⠑⠀⠕⠝⠑⠀⠓⠁⠎⠀⠃⠑⠑⠝⠀⠎⠕⠀⠅⠝⠕⠉⠅⠑⠙&lt;/row&gt;
          &lt;row&gt;⠁⠃⠕⠥⠞⠀⠞⠓⠁⠞⠀⠠⠊⠀⠉⠁⠝⠀⠓⠁⠗⠙⠇⠽⠀⠊⠍⠁⠛⠊⠝⠑⠀⠁⠀⠞⠕⠺⠝&lt;/row&gt;
          &lt;row&gt;⠏⠗⠁⠉⠞⠊⠞⠊⠕⠝⠑⠗⠀⠉⠁⠗⠗⠽⠊⠝⠛⠀⠊⠞⠄⠀⠠⠞⠓⠑⠀⠞⠓⠊⠉⠅⠤&lt;/row&gt;
          &lt;row&gt;⠊⠗⠕⠝⠀⠋⠑⠗⠗⠥⠇⠑⠀⠊⠎⠀⠺⠕⠗⠝⠀⠙⠕⠺⠝⠂⠀⠎⠕⠀⠊⠞⠀⠊⠎&lt;/row&gt;
          &lt;row&gt;⠑⠧⠊⠙⠑⠝⠞⠀⠞⠓⠁⠞⠀⠓⠑⠀⠓⠁⠎⠀⠙⠕⠝⠑⠀⠁⠀⠛⠗⠑⠁⠞⠀⠁⠍⠕⠥⠝⠞&lt;/row&gt;
          &lt;row&gt;⠕⠋⠀⠺⠁⠇⠅⠊⠝⠛⠀⠺⠊⠞⠓⠀⠊⠞⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠏⠑⠗⠋⠑⠉⠞⠇⠽⠀⠎⠕⠥⠝⠙⠖⠰⠀⠎⠁⠊⠙⠀⠠⠓⠕⠇⠍⠑⠎⠄⠔&lt;/row&gt;
          &lt;row&gt;⠰⠠⠁⠝⠙⠀⠞⠓⠑⠝⠀⠁⠛⠁⠊⠝⠂⠀⠞⠓⠑⠗⠑⠀⠊⠎⠀⠞⠓⠑⠀⠐⠋⠗⠊⠑⠝⠙⠎&lt;/row&gt;
          &lt;row&gt;⠕⠋⠀⠞⠓⠑⠀⠠⠉⠄⠠⠉⠄⠠⠓⠄⠐⠀⠠⠊⠀⠎⠓⠕⠥⠇⠙⠀⠛⠥⠑⠎⠎⠀⠞⠓⠁⠞&lt;/row&gt;
          &lt;row&gt;⠞⠕⠀⠃⠑⠀⠞⠓⠑⠀⠠⠎⠕⠍⠑⠞⠓⠊⠝⠛⠀⠠⠓⠥⠝⠞⠂⠀⠞⠓⠑⠀⠇⠕⠉⠁⠇&lt;/row&gt;
          &lt;row&gt;⠓⠥⠝⠞⠀⠞⠕⠀⠺⠓⠕⠎⠑⠀⠍⠑⠍⠃⠑⠗⠎⠀⠓⠑⠀⠓⠁⠎⠀⠏⠕⠎⠎⠊⠃⠇⠽&lt;/row&gt;
          &lt;row&gt;⠛⠊⠧⠑⠝⠀⠎⠕⠍⠑⠀⠎⠥⠗⠛⠊⠉⠁⠇⠀⠁⠎⠎⠊⠎⠞⠁⠝⠉⠑⠂⠀⠁⠝⠙&lt;/row&gt;
          &lt;row&gt;⠺⠓⠊⠉⠓⠀⠓⠁⠎⠀⠍⠁⠙⠑⠀⠓⠊⠍⠀⠁⠀⠎⠍⠁⠇⠇⠀⠏⠗⠑⠎⠑⠝⠞⠁⠞⠊⠕⠝&lt;/row&gt;
          &lt;row&gt;⠊⠝⠀⠗⠑⠞⠥⠗⠝⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠗⠑⠁⠇⠇⠽⠂⠀⠠⠺⠁⠞⠎⠕⠝⠂⠀⠽⠕⠥⠀⠑⠭⠉⠑⠇⠀⠽⠕⠥⠗⠎⠑⠇⠋⠂⠰&lt;/row&gt;
          &lt;row&gt;⠎⠁⠊⠙⠀⠠⠓⠕⠇⠍⠑⠎⠂⠀⠏⠥⠎⠓⠊⠝⠛⠀⠃⠁⠉⠅⠀⠓⠊⠎⠀⠉⠓⠁⠊⠗⠀⠁⠝⠙&lt;/row&gt;
          &lt;row&gt;⠇⠊⠛⠓⠞⠊⠝⠛⠀⠁⠀⠉⠊⠛⠁⠗⠑⠞⠞⠑⠄⠀⠰⠠⠊⠀⠁⠍⠀⠃⠕⠥⠝⠙⠀⠞⠕&lt;/row&gt;
          &lt;row&gt;⠎⠁⠽⠀⠞⠓⠁⠞⠀⠊⠝⠀⠁⠇⠇⠀⠞⠓⠑⠀⠁⠉⠉⠕⠥⠝⠞⠎⠀⠺⠓⠊⠉⠓⠀⠽⠕⠥&lt;/row&gt;
          &lt;row&gt;⠓⠁⠧⠑⠀⠃⠑⠑⠝⠀⠎⠕⠀⠛⠕⠕⠙⠀⠁⠎⠀⠞⠕⠀⠛⠊⠧⠑⠀⠕⠋⠀⠍⠽⠀⠕⠺⠝&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠔⠀⠠⠞⠓⠊⠎⠀⠊⠎⠀⠁⠀⠝⠕⠞⠑⠀⠞⠓⠁⠞⠀⠁⠏⠏⠑⠁⠗⠎⠀⠎⠑⠧⠑⠗⠁⠇&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠞⠊⠍⠑⠎⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠎⠍⠁⠇⠇⠀⠁⠉⠓⠊⠑⠧⠑⠍⠑⠝⠞⠎⠀⠽⠕⠥⠀⠓⠁⠧⠑⠀⠓⠁⠃⠊⠞⠥⠁⠇⠇⠽&lt;/row&gt;
          &lt;row&gt;⠥⠝⠙⠑⠗⠗⠁⠞⠑⠙⠀⠽⠕⠥⠗⠀⠕⠺⠝⠀⠁⠃⠊⠇⠊⠞⠊⠑⠎⠄⠀⠠⠊⠞⠀⠍⠁⠽&lt;/row&gt;
          &lt;row&gt;⠃⠑⠀⠞⠓⠁⠞⠀⠽⠕⠥⠀⠁⠗⠑⠀⠝⠕⠞⠀⠽⠕⠥⠗⠎⠑⠇⠋⠀⠇⠥⠍⠊⠝⠕⠥⠎⠂&lt;/row&gt;
          &lt;row&gt;⠃⠥⠞⠀⠽⠕⠥⠀⠁⠗⠑⠀⠁⠀⠉⠕⠝⠙⠥⠉⠞⠕⠗⠀⠕⠋⠀⠇⠊⠛⠓⠞⠄⠀⠠⠎⠕⠍⠑&lt;/row&gt;
          &lt;row&gt;⠏⠑⠕⠏⠇⠑⠀⠺⠊⠞⠓⠕⠥⠞⠀⠏⠕⠎⠎⠑⠎⠎⠊⠝⠛⠀⠛⠑⠝⠊⠥⠎⠀⠓⠁⠧⠑⠀⠁&lt;/row&gt;
          &lt;row&gt;⠗⠑⠍⠁⠗⠅⠁⠃⠇⠑⠀⠏⠕⠺⠑⠗⠀⠕⠋⠀⠎⠞⠊⠍⠥⠇⠁⠞⠊⠝⠛⠀⠊⠞⠄⠀⠠⠊&lt;/row&gt;
          &lt;row&gt;⠉⠕⠝⠋⠑⠎⠎⠂⠀⠍⠽⠀⠙⠑⠁⠗⠀⠋⠑⠇⠇⠕⠺⠂⠀⠞⠓⠁⠞⠀⠠⠊⠀⠁⠍⠀⠧⠑⠗⠽&lt;/row&gt;
          &lt;row&gt;⠍⠥⠉⠓⠀⠊⠝⠀⠽⠕⠥⠗⠀⠙⠑⠃⠞⠄⠰&lt;/row&gt;
          &lt;row&gt;⠠⠓⠑⠀⠓⠁⠙⠀⠝⠑⠧⠑⠗⠀⠎⠁⠊⠙⠀⠁⠎⠀⠍⠥⠉⠓⠀⠃⠑⠋⠕⠗⠑⠂⠀⠁⠝⠙&lt;/row&gt;
          &lt;row&gt;⠠⠊⠀⠍⠥⠎⠞⠀⠁⠙⠍⠊⠞⠀⠞⠓⠁⠞⠀⠓⠊⠎⠀⠺⠕⠗⠙⠎⠀⠛⠁⠧⠑⠀⠍⠑&lt;/row&gt;
          &lt;row&gt;⠅⠑⠑⠝⠀⠏⠇⠑⠁⠎⠥⠗⠑⠂⠀⠋⠕⠗⠀⠠⠊⠀⠓⠁⠙⠀⠕⠋⠞⠑⠝⠀⠃⠑⠑⠝&lt;/row&gt;
          &lt;row&gt;⠏⠊⠟⠥⠑⠙⠀⠃⠽⠀⠓⠊⠎⠀⠊⠝⠙⠊⠋⠋⠑⠗⠑⠝⠉⠑⠀⠞⠕⠀⠍⠽⠀⠁⠙⠍⠊⠗⠁⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠕⠝⠀⠁⠝⠙⠀⠞⠕⠀⠞⠓⠑⠀⠁⠞⠞⠑⠍⠏⠞⠎⠀⠺⠓⠊⠉⠓⠀⠠⠊⠀⠓⠁⠙&lt;/row&gt;
          &lt;row&gt;⠍⠁⠙⠑⠀⠞⠕⠀⠛⠊⠧⠑⠀⠏⠥⠃⠇⠊⠉⠊⠞⠽⠀⠞⠕⠀⠓⠊⠎⠀⠍⠑⠞⠓⠤&lt;/row&gt;
          &lt;row&gt;⠕⠙⠎⠄⠬⠼⠑⠀⠠⠊⠀⠺⠁⠎⠀⠏⠗⠕⠥⠙⠂⠀⠞⠕⠕⠂⠀⠞⠕⠀⠞⠓⠊⠝⠅⠀⠞⠓⠁⠞&lt;/row&gt;
          &lt;row&gt;⠠⠊⠀⠓⠁⠙⠀⠎⠕⠀⠋⠁⠗⠀⠍⠁⠎⠞⠑⠗⠑⠙⠀⠓⠊⠎⠀⠎⠽⠎⠞⠑⠍⠀⠁⠎⠀⠞⠕&lt;/row&gt;
          &lt;row&gt;⠁⠏⠏⠇⠽⠀⠊⠞⠀⠊⠝⠀⠁⠀⠺⠁⠽⠀⠺⠓⠊⠉⠓⠀⠑⠁⠗⠝⠑⠙⠀⠓⠊⠎⠀⠁⠏⠤&lt;/row&gt;
          &lt;row&gt;⠏⠗⠕⠧⠁⠇⠄⠀⠠⠓⠑⠀⠝⠕⠺⠀⠞⠕⠕⠅⠀⠞⠓⠑⠀⠎⠞⠊⠉⠅⠀⠋⠗⠕⠍⠀⠍⠽&lt;/row&gt;
          &lt;row&gt;⠓⠁⠝⠙⠎⠀⠁⠝⠙⠀⠑⠭⠁⠍⠊⠝⠑⠙⠀⠊⠞⠀⠋⠕⠗⠀⠁⠀⠋⠑⠺⠀⠍⠊⠝⠥⠞⠑⠎&lt;/row&gt;
          &lt;row&gt;⠺⠊⠞⠓⠀⠓⠊⠎⠀⠝⠁⠅⠑⠙⠀⠑⠽⠑⠎⠄⠀⠠⠞⠓⠑⠝⠀⠺⠊⠞⠓⠀⠁⠝⠀⠑⠭⠤&lt;/row&gt;
          &lt;row&gt;⠏⠗⠑⠎⠎⠊⠕⠝⠀⠕⠋⠀⠊⠝⠞⠑⠗⠑⠎⠞⠀⠓⠑⠀⠇⠁⠊⠙⠀⠙⠕⠺⠝⠀⠓⠊⠎&lt;/row&gt;
          &lt;row&gt;⠉⠊⠛⠁⠗⠑⠞⠞⠑⠂⠀⠁⠝⠙⠀⠉⠁⠗⠗⠽⠊⠝⠛⠀⠞⠓⠑⠀⠉⠁⠝⠑⠀⠞⠕⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠺⠊⠝⠙⠕⠺⠂⠀⠓⠑⠀⠇⠕⠕⠅⠑⠙⠀⠕⠧⠑⠗⠀⠊⠞⠀⠁⠛⠁⠊⠝⠀⠺⠊⠞⠓⠀⠁&lt;/row&gt;
          &lt;row&gt;⠉⠕⠝⠧⠑⠭⠀⠇⠑⠝⠎⠄&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠼⠑⠴⠀⠠⠞⠓⠊⠎⠀⠝⠕⠞⠑⠀⠊⠎⠀⠋⠥⠗⠞⠓⠑⠗⠀⠙⠕⠺⠝⠀⠞⠓⠑⠀⠞⠑⠭⠞⠂&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠃⠥⠞⠀⠞⠓⠑⠀⠞⠑⠭⠞⠀⠊⠎⠀⠎⠞⠊⠇⠇⠀⠋⠁⠊⠗⠇⠽⠀⠎⠓⠕⠗⠞⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠰⠠⠊⠝⠞⠑⠗⠑⠎⠞⠊⠝⠛⠂⠀⠞⠓⠕⠥⠛⠓⠀⠑⠇⠑⠍⠑⠝⠞⠁⠗⠽⠂⠰⠀⠎⠁⠊⠙&lt;/row&gt;
          &lt;row&gt;⠓⠑⠀⠁⠎⠀⠓⠑⠀⠗⠑⠞⠥⠗⠝⠑⠙⠀⠞⠕⠀⠓⠊⠎⠀⠋⠁⠧⠕⠥⠗⠊⠞⠑&lt;/row&gt;
          &lt;row&gt;⠉⠕⠗⠝⠑⠗⠀⠕⠋⠀⠞⠓⠑⠀⠎⠑⠞⠞⠑⠑⠄⠀⠰⠠⠞⠓⠑⠗⠑⠀⠁⠗⠑⠀⠉⠑⠗⠤&lt;/row&gt;
          &lt;row&gt;⠞⠁⠊⠝⠇⠽⠀⠕⠝⠑⠀⠕⠗⠀⠞⠺⠕⠀⠊⠝⠙⠊⠉⠁⠞⠊⠕⠝⠎⠀⠥⠏⠕⠝⠀⠞⠓⠑&lt;/row&gt;
          &lt;row&gt;⠎⠞⠊⠉⠅⠄⠀⠠⠊⠞⠀⠛⠊⠧⠑⠎⠀⠥⠎⠀⠞⠓⠑⠀⠃⠁⠎⠊⠎⠀⠋⠕⠗⠀⠎⠑⠧⠤&lt;/row&gt;
          &lt;row&gt;⠑⠗⠁⠇⠀⠙⠑⠙⠥⠉⠞⠊⠕⠝⠎⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠓⠁⠎⠀⠁⠝⠽⠞⠓⠊⠝⠛⠀⠑⠎⠉⠁⠏⠑⠙⠀⠍⠑⠢⠰⠀⠠⠊⠀⠁⠎⠅⠑⠙&lt;/row&gt;
          &lt;row&gt;⠺⠊⠞⠓⠀⠎⠕⠍⠑⠀⠎⠑⠇⠋⠤⠊⠍⠏⠕⠗⠞⠁⠝⠉⠑⠄⠀⠰⠠⠊⠀⠞⠗⠥⠎⠞&lt;/row&gt;
          &lt;row&gt;⠞⠓⠁⠞⠀⠞⠓⠑⠗⠑⠀⠊⠎⠀⠝⠕⠞⠓⠊⠝⠛⠀⠕⠋⠀⠉⠕⠝⠎⠑⠟⠥⠑⠝⠉⠑&lt;/row&gt;
          &lt;row&gt;⠺⠓⠊⠉⠓⠀⠠⠊⠀⠓⠁⠧⠑⠀⠕⠧⠑⠗⠇⠕⠕⠅⠑⠙⠢⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠊⠀⠁⠍⠀⠁⠋⠗⠁⠊⠙⠂⠀⠍⠽⠀⠙⠑⠁⠗⠀⠠⠺⠁⠞⠎⠕⠝⠂⠀⠞⠓⠁⠞&lt;/row&gt;
          &lt;row&gt;⠍⠕⠎⠞⠀⠕⠋⠀⠽⠕⠥⠗⠀⠉⠕⠝⠉⠇⠥⠎⠊⠕⠝⠎⠀⠺⠑⠗⠑⠀⠑⠗⠗⠕⠝⠑⠕⠥⠎⠄&lt;/row&gt;
          &lt;row&gt;⠠⠺⠓⠑⠝⠀⠠⠊⠀⠎⠁⠊⠙⠀⠞⠓⠁⠞⠀⠽⠕⠥⠀⠎⠞⠊⠍⠥⠇⠁⠞⠑⠙⠀⠍⠑⠀⠠⠊&lt;/row&gt;
          &lt;row&gt;⠍⠑⠁⠝⠞⠂⠀⠞⠕⠀⠃⠑⠀⠋⠗⠁⠝⠅⠂⠀⠞⠓⠁⠞⠀⠊⠝⠀⠝⠕⠞⠊⠝⠛⠀⠽⠕⠥⠗&lt;/row&gt;
          &lt;row&gt;⠋⠁⠇⠇⠁⠉⠊⠑⠎⠀⠠⠊⠀⠺⠁⠎⠀⠕⠉⠉⠁⠎⠊⠕⠝⠁⠇⠇⠽⠀⠛⠥⠊⠙⠑⠙⠀⠞⠕⠤&lt;/row&gt;
          &lt;row&gt;⠺⠁⠗⠙⠎⠀⠞⠓⠑⠀⠞⠗⠥⠞⠓⠄⠀⠠⠝⠕⠞⠀⠞⠓⠁⠞⠀⠽⠕⠥⠀⠁⠗⠑⠀⠑⠝⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠗⠑⠇⠽⠀⠺⠗⠕⠝⠛⠀⠊⠝⠀⠞⠓⠊⠎⠀⠊⠝⠎⠞⠁⠝⠉⠑⠄⠀⠠⠞⠓⠑⠀⠍⠁⠝&lt;/row&gt;
          &lt;row&gt;⠊⠎⠀⠉⠑⠗⠞⠁⠊⠝⠇⠽⠀⠁⠀⠉⠕⠥⠝⠞⠗⠽⠀⠏⠗⠁⠉⠞⠊⠞⠊⠕⠝⠑⠗⠄&lt;/row&gt;
          &lt;row&gt;⠠⠁⠝⠙⠀⠓⠑⠀⠺⠁⠇⠅⠎⠀⠁⠀⠛⠕⠕⠙⠀⠙⠑⠁⠇⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠞⠓⠑⠝⠀⠠⠊⠀⠺⠁⠎⠀⠗⠊⠛⠓⠞⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠞⠕⠀⠞⠓⠁⠞⠀⠑⠭⠞⠑⠝⠞⠄⠰⠔&lt;/row&gt;
          &lt;row&gt;⠰⠠⠃⠥⠞⠀⠞⠓⠁⠞⠀⠺⠁⠎⠀⠁⠇⠇⠄⠰⠔&lt;/row&gt;
          &lt;row&gt;⠰⠠⠝⠕⠂⠀⠝⠕⠂⠀⠍⠽⠀⠙⠑⠁⠗⠀⠠⠺⠁⠞⠎⠕⠝⠂⠀⠝⠕⠞⠀⠁⠇⠇⠤⠤⠃⠽&lt;/row&gt;
          &lt;row&gt;⠝⠕⠀⠍⠑⠁⠝⠎⠀⠁⠇⠇⠄⠀⠠⠊⠀⠺⠕⠥⠇⠙⠀⠎⠥⠛⠛⠑⠎⠞⠂⠀⠋⠕⠗⠀⠑⠭⠤&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠔⠀⠠⠞⠓⠊⠎⠀⠊⠎⠀⠁⠀⠝⠕⠞⠑⠀⠞⠓⠁⠞⠀⠁⠏⠏⠑⠁⠗⠎⠀⠎⠑⠧⠑⠗⠁⠇&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠞⠊⠍⠑⠎⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠍⠏⠇⠑⠂⠀⠞⠓⠁⠞⠀⠁⠀⠏⠗⠑⠎⠑⠝⠞⠁⠞⠊⠕⠝⠀⠞⠕⠀⠁⠀⠙⠕⠉⠞⠕⠗&lt;/row&gt;
          &lt;row&gt;⠊⠎⠀⠍⠕⠗⠑⠀⠇⠊⠅⠑⠇⠽⠀⠞⠕⠀⠉⠕⠍⠑⠀⠋⠗⠕⠍⠀⠁⠀⠓⠕⠎⠏⠊⠞⠁⠇&lt;/row&gt;
          &lt;row&gt;⠞⠓⠁⠝⠀⠋⠗⠕⠍⠀⠁⠀⠓⠥⠝⠞⠂⠀⠁⠝⠙⠀⠞⠓⠁⠞⠀⠺⠓⠑⠝⠀⠞⠓⠑⠀⠊⠝⠊⠤&lt;/row&gt;
          &lt;row&gt;⠞⠊⠁⠇⠎⠀⠐⠠⠉⠄⠠⠉⠄⠐⠀⠁⠗⠑⠀⠏⠇⠁⠉⠑⠙⠀⠃⠑⠋⠕⠗⠑⠀⠞⠓⠁⠞&lt;/row&gt;
          &lt;row&gt;⠓⠕⠎⠏⠊⠞⠁⠇⠀⠞⠓⠑⠀⠺⠕⠗⠙⠎⠀⠐⠠⠉⠓⠁⠗⠊⠝⠛⠀⠠⠉⠗⠕⠎⠎⠐&lt;/row&gt;
          &lt;row&gt;⠧⠑⠗⠽⠀⠝⠁⠞⠥⠗⠁⠇⠇⠽⠀⠎⠥⠛⠛⠑⠎⠞⠀⠞⠓⠑⠍⠎⠑⠇⠧⠑⠎⠄⠰&lt;/row&gt;
          &lt;row&gt;⠰⠠⠽⠕⠥⠀⠍⠁⠽⠀⠃⠑⠀⠗⠊⠛⠓⠞⠄⠰⠬⠼⠋&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠄⠄⠄⠀⠠⠋⠕⠕⠞⠝⠕⠞⠑⠎⠀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄&lt;/row&gt;
          &lt;row&gt;⠼⠋⠴⠀⠠⠞⠓⠊⠎⠀⠝⠕⠞⠑⠀⠊⠎⠀⠕⠝⠀⠞⠓⠑⠀⠇⠁⠎⠞⠀⠏⠁⠛⠑⠄&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠀⠠⠠⠑⠝⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer4-input.obfl">
            Vertical position with text flow in header/footer test<a href="#flow-in/flow-in-header-footer4-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests vertical position combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer4-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Vertical position with text flow in header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests vertical position combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block vertical-position="3" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block vertical-position="4" vertical-align="after"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer4-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer8-input.obfl">
            XML data with text flow into header/footer test<a href="#flow-in/flow-in-header-footer8-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests XML data combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer8-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML data with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests XML data combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠭"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="matrix"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;block margin-bottom="1"&gt;⠠⠍⠁⠞⠗⠊⠭&lt;/block&gt;
          &lt;xsl:copy-of select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="staircase"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;block&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:tr"&gt;
        &lt;xsl:apply-templates select="obfl:td[1]"/&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:td"&gt;
        &lt;block margin-left="2"&gt;
          &lt;xsl:value-of select="text()"/&gt;
          &lt;xsl:apply-templates select="following-sibling::*[1]"/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="matrix" cost="(+ 1 $total-height)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="staircase" cost="(+ 0 $total-height)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠁&lt;/block&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
          &lt;td&gt;⠤&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
    &lt;block margin-top="1"&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠃&lt;/block&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
          &lt;td&gt;⠤⠤⠤⠤⠤⠤⠤&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer8-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠠⠍⠁⠞⠗⠊⠭&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠀⠀⠤⠀⠀⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠀⠀⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠀⠀⠤⠀⠀⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠃&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-input.obfl">
            <a href="#flow-in/flow-in-header-input.obfl" class="internal"> &para;</a>
        </h1>
        <p></p>
        <h2>flow-in/flow-in-header-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;&nbsp;"/&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="b" duplex="false" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
         ⠁⠁⠁ ⠿⠿⠿ ⠠⠠⠠ ⠤⠤⠤
      &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block border-top-style="solid"&gt;
         ⠁⠁⠁
      &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="b"&gt;
    &lt;block border-bottom-style="solid"&gt;
         ⠁⠁⠁
      &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;???&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠠⠠⠠&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠠⠠⠠&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
          &lt;row&gt;⠠⠠⠠⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠠⠠⠠⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠠⠠⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠠⠠⠠&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer9-input.obfl">
            Volume transition with text flow into header/footer test<a href="#flow-in/flow-in-header-footer9-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests volume transition combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer9-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Volume transition with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests volume transition combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;⠭"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;⠽"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="4"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-transition range="page"&gt;
    &lt;sequence-interrupted&gt;
      &lt;block&gt;⠸⠤⠸&lt;/block&gt;
    &lt;/sequence-interrupted&gt;
    &lt;sequence-resumed&gt;
      &lt;block&gt;⠤⠸⠤&lt;/block&gt;
    &lt;/sequence-resumed&gt;
  &lt;/volume-transition&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠸⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠸&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer9-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠸⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠸⠤⠸⠀⠀⠀⠀⠀⠀⠽&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠸⠤⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠽&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤⠀⠭&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠸⠀⠽&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer3-input.obfl">
            Block border with text flow in header/footer test<a href="#flow-in/flow-in-header-footer3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests block border combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Block border with text flow in header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests block border combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="10" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠿&nbsp;&nbsp;"/&gt;
        &lt;/field&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠿"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block border-style="solid" border-width="1"&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠸&lt;/row&gt;
          &lt;row&gt;⠇⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer10-input.obfl">
            Page number counter with text flow into header/footer test<a href="#flow-in/flow-in-header-footer10-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page number counter combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer10-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page number counter with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page number counter combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;current-page/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="insert" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;current-page number-format="lower-alpha"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="insert" page-number-counter="insert"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer10-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠀⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer5-input.obfl">
            Margin region with text flow into header/footer test<a href="#flow-in/flow-in-header-footer5-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests margin region indicators combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer5-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Margin region with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests margin region indicators combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="6" duplex="false" inner-margin="2" outer-margin="2"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠭"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
          &lt;marker-indicator markers="sections" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages sections" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="1"/&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="1"/&gt;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer5-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠿⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠭⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠿⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-header-footer6-input.obfl">
            Table with text flow into header/footer test<a href="#flow-in/flow-in-header-footer6-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests table combined with text flow into header/footer.</p>
        <h2>flow-in/flow-in-header-footer6-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table with text flow into header/footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests table combined with text flow into header/footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;⠭"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-header-footer6-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠭&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="flow-in/flow-in-footer-input.obfl">
            <a href="#flow-in/flow-in-footer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p></p>
        <h2>flow-in/flow-in-footer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field allow-text-flow="true"/&gt;
        &lt;field&gt;
          &lt;string value="&nbsp;&nbsp;&nbsp;"/&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
      &lt;/block&gt;
    &lt;block border-bottom-style="solid"&gt;
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
      &lt;/block&gt;
    &lt;block&gt;
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
         ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
     &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>flow-in/flow-in-footer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-number-input.obfl">
            page-number<a href="#dp2/page-number-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple page-number.</p>
        <h2>dp2/page-number-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-number&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple page-number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="40" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;page-number ref-id="x" number-format="default"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page" id="x"&gt;⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-number-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-number&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple page-number.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/white-space-normalization-around-marker-input.obfl">
            white-space-normalization-around-marker<a href="#dp2/white-space-normalization-around-marker-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests white space normalisation near marker elements. Tests that white space at the beginning of a block or following a br element is stripped, also when it is followed directly by a marker element. Broken: see https://github.com/joeha480/dotify/issues/117. An additional normalisation step in DP2 fixes the issue at the beginning of a blocks, but not following br elements.</p>
        <h2>dp2/white-space-normalization-around-marker-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;white-space-normalization-around-marker&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests white space normalisation near marker elements. Tests that white space at the beginning of a block or following a br element is stripped, also when it is followed directly by a marker element. Broken: see https://github.com/joeha480/dotify/issues/117. An additional normalisation step in DP2 fixes the issue at the beginning of a blocks, but not following br elements.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="10" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
        ⠤⠤⠤
        ⠤⠤⠤
        ⠤⠤⠤
      &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="x"/&gt;
        ⠤⠤⠤
        ⠤⠤⠤
        ⠤⠤⠤
      
    &lt;/block&gt;
    &lt;block&gt;
        ⠤⠤⠤
        ⠤⠤⠤
        
      &lt;br/&gt;
        ⠤⠤⠤
      
    &lt;/block&gt;
    &lt;block&gt;
        ⠤⠤⠤
        ⠤⠤⠤
        
      &lt;br/&gt;
      &lt;marker class="foo" value="x"/&gt;
        ⠤⠤⠤
      
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/white-space-normalization-around-marker-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;white-space-normalization-around-marker&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests white space normalisation near marker elements. Tests that white space at the beginning of a block or following a br element is stripped, also when it is followed directly by a marker element. Broken: see https://github.com/joeha480/dotify/issues/117. An additional normalisation step in DP2 fixes the issue at the beginning of a blocks, but not following br elements.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/empty-margin-region-input.obfl">
            empty-margin-region<a href="#dp2/empty-margin-region-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests empty left margin with margin-region.</p>
        <h2>dp2/empty-margin-region-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;empty-margin-region&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests empty left margin with margin-region.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators/&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/empty-margin-region-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;empty-margin-region&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests empty left margin with margin-region.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/collapsing-margins-adjacent-blocks-input.obfl">
            collapsing-margins-adjacent-blocks<a href="#dp2/collapsing-margins-adjacent-blocks-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests collapsing of margins of adjacent sibling blocks.</p>
        <h2>dp2/collapsing-margins-adjacent-blocks-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;collapsing-margins-adjacent-blocks&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests collapsing of margins of adjacent sibling blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="15" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-bottom="1"&gt;⠿⠿⠿⠿
            &lt;/block&gt;
    &lt;block margin-top="1"&gt;⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/collapsing-margins-adjacent-blocks-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;collapsing-margins-adjacent-blocks&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests collapsing of margins of adjacent sibling blocks.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="15" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/pre-hyphenation-input.obfl">
            pre-hyphenation<a href="#dp2/pre-hyphenation-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests (pre-)hyphenation.</p>
        <h2>dp2/pre-hyphenation-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;pre-hyphenation&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests (pre-)hyphenation.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="12" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿ ⠿⠿⠿&shy;⠿⠿⠿ ⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/pre-hyphenation-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;pre-hyphenation&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests (pre-)hyphenation.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/comment-in-white-space-input.obfl">
            comment-in-white-space<a href="#dp2/comment-in-white-space-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests presence of a comment surrounded by white space. Broken: white space is dropped.</p>
        <h2>dp2/comment-in-white-space-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;comment-in-white-space&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests presence of a comment surrounded by white space. Broken: white space is dropped.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="1" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠁⠁⠁  ⠁⠁⠁
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/comment-in-white-space-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;comment-in-white-space&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests presence of a comment surrounded by white space. Broken: white space is dropped.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="1" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠀⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/row-spacing-and-margins-input.obfl">
            row-spacing-and-margins<a href="#dp2/row-spacing-and-margins-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests combinations of row-spacing and (non-collapsed) top/bottom margins, including on nested blocks with different row-spacing.</p>
        <h2>dp2/row-spacing-and-margins-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;row-spacing-and-margins&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests combinations of row-spacing and (non-collapsed) top/bottom margins, including on nested blocks with different row-spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="true" page-width="40" page-height="75"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block margin-top="1" margin-bottom="1" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block&gt;⠒⠒⠒&lt;/block&gt;
    &lt;block margin-top="0" margin-bottom="1" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block&gt;⠒⠒⠒&lt;/block&gt;
    &lt;block margin-top="0" margin-bottom="0" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block&gt;⠒⠒⠒&lt;/block&gt;
    &lt;block margin-top="1" margin-bottom="0" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block&gt;⠒⠒⠒&lt;/block&gt;
    &lt;block margin-top="1" row-spacing="1.0"&gt;
      &lt;block margin-top="0" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
                
      &lt;/block&gt;
      &lt;block&gt;⠒⠒⠒&lt;/block&gt;
      &lt;block margin-top="1" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
                
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/row-spacing-and-margins-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;row-spacing-and-margins&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests combinations of row-spacing and (non-collapsed) top/bottom margins, including on nested blocks with different row-spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="75" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="0"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/various-page-widths-input.obfl">
            various-page-widths<a href="#dp2/various-page-widths-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests two layout-masters with different page-width.</p>
        <h2>dp2/various-page-widths-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;various-page-widths&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests two layout-masters with different page-width.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="30" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="b" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="b"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/various-page-widths-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;various-page-widths&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests two layout-masters with different page-width.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="30" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section cols="15"&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-colspan-fill-input.obfl">
            table-colspan-fill<a href="#dp2/table-colspan-fill-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests a table cell spanning multiple columns. The cell text is centered and the remaining space in the cell filled with a pattern.</p>
        <h2>dp2/table-colspan-fill-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-colspan-fill&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests a table cell spanning multiple columns. The cell text is centered and the remaining space in the cell filled with a pattern.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td col-span="4"&gt;
                  ⠸
          &lt;leader pattern="⠒" position="50%" align="center"/&gt;
                  ⠿⠿⠿⠿⠿
                  
          &lt;leader pattern="⠒" position="50%" align="center"/&gt;⠇
                
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-colspan-fill-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-colspan-fill&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests a table cell spanning multiple columns. The cell text is centered and the remaining space in the cell filled with a pattern.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠸⠒⠒⠒⠀⠿⠿⠿⠿⠿⠀⠒⠒⠒⠇&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠀⠿⠿⠿⠀⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠀⠿⠿⠿⠀⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/volume-breaking-between-blocks-input.obfl">
            volume-breaking-between-blocks<a href="#dp2/volume-breaking-between-blocks-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests volume-transition element, which modifies the last sheet so that volume breaks occur between blocks.</p>
        <h2>dp2/volume-breaking-between-blocks-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;volume-breaking-between-blocks&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests volume-transition element, which modifies the last sheet so that volume breaks occur between blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="true" page-number-variable="page" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3"/&gt;
  &lt;volume-transition range="sheet"/&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
            &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
            &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/volume-breaking-between-blocks-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/empty-margin-region2-input.obfl">
            empty-margin-region<a href="#dp2/empty-margin-region2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests empty left margin with margin-region.</p>
        <h2>dp2/empty-margin-region2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;empty-margin-region&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests empty left margin with margin-region.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/empty-margin-region2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;empty-margin-region&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests empty left margin with margin-region.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/sheets-in-volume-max-input.obfl">
            sheets-in-volume-max<a href="#dp2/sheets-in-volume-max-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests sheets-in-volume-max.</p>
        <h2>dp2/sheets-in-volume-max-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;sheets-in-volume-max&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests sheets-in-volume-max.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3"/&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/sheets-in-volume-max-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;sheets-in-volume-max&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests sheets-in-volume-max.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/row-spacing-nested-blocks-input.obfl">
            row-spacing-nested-blocks<a href="#dp2/row-spacing-nested-blocks-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests row-spacing on block nested in block with border bottom and default row-spacing.</p>
        <h2>dp2/row-spacing-nested-blocks-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;row-spacing-nested-blocks&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests row-spacing on block nested in block with border bottom and default row-spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block border-bottom-style="solid" border-bottom-align="center"&gt;
      &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ &lt;/block&gt;
    &lt;/block&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/row-spacing-nested-blocks-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;row-spacing-nested-blocks&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests row-spacing on block nested in block with border bottom and default row-spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-fixed-width-input.obfl">
            table-fixed-width<a href="#dp2/table-fixed-width-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width. All cells have similar content, therefore all columns are equally wide. Cells in the first row have a bottom border to indicate the column widths and spacing.</p>
        <h2>dp2/table-fixed-width-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-fixed-width&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width. All cells have similar content, therefore all columns are equally wide. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1" preferred-empty-space="3"&gt;
      &lt;tr&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-fixed-width-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-fixed-width&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width. All cells have similar content, therefore all columns are equally wide. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/empty-block-border-input.obfl">
            empty-block-border<a href="#dp2/empty-block-border-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests empty blocks with border.</p>
        <h2>dp2/empty-block-border-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;empty-block-border&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests empty blocks with border.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block border-bottom-style="solid" border-bottom-align="outer"/&gt;
    &lt;block border-bottom-style="solid" border-bottom-align="outer"/&gt;
    &lt;block border-bottom-style="solid" border-bottom-align="outer"&gt;&nbsp; &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/empty-block-border-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;empty-block-border&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests empty blocks with border.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/block-row-spacing-input.obfl">
            block-row-spacing<a href="#dp2/block-row-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests row-spacing on blocks.</p>
        <h2>dp2/block-row-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;block-row-spacing&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests row-spacing on blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="40" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠂⠂⠂⠂⠂
      &lt;br/&gt;
      &lt;br/&gt;
                ⠯⠗⠼⠜⠌⠄
              
    &lt;/block&gt;
    &lt;block&gt;⠒⠒⠒&lt;/block&gt;
    &lt;block row-spacing="2.0"&gt;⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/block-row-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;block-row-spacing&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests row-spacing on blocks.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠂⠂⠂⠂⠂&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠯⠗⠼⠜⠌⠄&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/layout-master-row-spacing-input.obfl">
            layout-master-row-spacing<a href="#dp2/layout-master-row-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests row-spacing on layout-master.</p>
        <h2>dp2/layout-master-row-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;layout-master-row-spacing&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests row-spacing on layout-master.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="40" page-height="25" row-spacing="2.0"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
      &lt;br/&gt;
                ⠤⠤⠤⠤
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/layout-master-row-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;layout-master-row-spacing&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests row-spacing on layout-master.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="4" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row rowgap="0"&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/block-underline-input.obfl">
            block-underline<a href="#dp2/block-underline-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests underlining of blocks with various properties and contents.</p>
        <h2>dp2/block-underline-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;block-underline&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests underlining of blocks with various properties and contents.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="false" page-width="15" page-height="50"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block underline-style="solid"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid"&gt;⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" padding-left="2"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" margin-left="2"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" align="center"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" padding-right="2" align="center"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" first-line-indent="2"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" text-indent="2" first-line-indent="2"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" text-indent="2" first-line-indent="0"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" row-spacing="2"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" margin-bottom="1"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" padding-bottom="1"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌ ⠌⠌⠌⠌⠌
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/block-underline-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;block-underline&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests underlining of blocks with various properties and contents.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="50" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠀⠀⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/row-spacing-and-footer-input.obfl">
            row-spacing-and-footer<a href="#dp2/row-spacing-and-footer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests row spacing combined with footer. The last row of a page before the footer has no rowgap. If a gap is desired an empty footer line must be inserted.</p>
        <h2>dp2/row-spacing-and-footer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;row-spacing-and-footer&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests row spacing combined with footer. The last row of a page before the footer has no rowgap. If a gap is desired an empty footer line must be inserted.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="true" page-width="10" page-height="10"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="b" duplex="true" page-width="10" page-height="10"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
              ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
              ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="b" initial-page-number="1"&gt;
    &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
              ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
              ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿ ⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/row-spacing-and-footer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;row-spacing-and-footer&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests row spacing combined with footer. The last row of a page before the footer has no rowgap. If a gap is desired an empty footer line must be inserted.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/list-of-references-input.obfl">
            list-of-references<a href="#dp2/list-of-references-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests list-of-references.</p>
        <h2>dp2/list-of-references-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;list-of-references&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests list-of-references.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="8" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="1000"&gt;
    &lt;post-content&gt;
      &lt;dynamic-sequence master="main"&gt;
        &lt;list-of-references collection="endnotes" range="volume"/&gt;
      &lt;/dynamic-sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;collection name="endnotes"&gt;
    &lt;item id="a"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="I" number-format="default"/&gt;
                ⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
    &lt;item id="b"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="I" number-format="default"/&gt;
                ⠶⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
    &lt;item id="c"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="III" number-format="default"/&gt;
                ⠶⠶⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
  &lt;/collection&gt;
  &lt;sequence master="main"&gt;
    &lt;block id="I"&gt;⠿⠿⠿
              
      &lt;anchor item="a"/&gt;
              ⠿⠿⠿
              
      &lt;anchor item="b"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠿⠿⠿
            &lt;/block&gt;
    &lt;block break-before="page" id="III"&gt;⠿⠿⠿
              
      &lt;anchor item="c"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/list-of-references-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;list-of-references&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests list-of-references.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="8" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠶&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠶⠶&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠶⠶⠶&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/pre-content-input.obfl">
            pre-content<a href="#dp2/pre-content-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests pre-content.</p>
        <h2>dp2/pre-content-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;pre-content&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests pre-content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="1000"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="main"&gt;
        &lt;block&gt;⠿⠿⠿
                &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/pre-content-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;pre-content&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests pre-content.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-number-follows-leader-input.obfl">
            page-number-follows-leader<a href="#dp2/page-number-follows-leader-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests leader followed by page-number.</p>
        <h2>dp2/page-number-follows-leader-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-number-follows-leader&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests leader followed by page-number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block id="chapter_1"&gt;⠤&lt;/block&gt;
    &lt;block&gt;
      &lt;leader pattern="⠄" position="100%" align="right"/&gt;⠀
      &lt;page-number ref-id="chapter_1" number-format="default"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-number-follows-leader-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-number-follows-leader&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests leader followed by page-number.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠄⠄⠄⠄⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/empty-block-input.obfl">
            empty-block<a href="#dp2/empty-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests empty blocks.</p>
        <h2>dp2/empty-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;empty-block&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests empty blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block/&gt;
    &lt;block&gt;⠿&lt;/block&gt;
    &lt;block/&gt;
    &lt;block&gt;⠿&lt;/block&gt;
    &lt;block&gt;&nbsp;&lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block/&gt;
    &lt;block&gt;⠿&lt;/block&gt;
    &lt;block margin-bottom="1"/&gt;
    &lt;block&gt;⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/empty-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;empty-block&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests empty blocks.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/single-line-header-empty-input.obfl">
            single-line-header-empty<a href="#dp2/single-line-header-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating empty single-line top page margin using header.</p>
        <h2>dp2/single-line-header-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;single-line-header-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating empty single-line top page margin using header.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/single-line-header-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;single-line-header-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating empty single-line top page margin using header.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/header-vary-height-left-right-pages-input.obfl">
            header-vary-height-left-right-pages<a href="#dp2/header-vary-height-left-right-pages-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests different height of header on left and right pages.</p>
        <h2>dp2/header-vary-height-left-right-pages-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;header-vary-height-left-right-pages&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests different height of header on left and right pages.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
    &lt;block break-before="page"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/header-vary-height-left-right-pages-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;header-vary-height-left-right-pages&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests different height of header on left and right pages.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/multi-line-header-empty-input.obfl">
            multi-line-header-empty<a href="#dp2/multi-line-header-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating empty two-line top page margin using multiple headers.</p>
        <h2>dp2/multi-line-header-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;multi-line-header-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating empty two-line top page margin using multiple headers.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/multi-line-header-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;multi-line-header-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating empty two-line top page margin using multiple headers.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/single-line-header-input.obfl">
            single-line-header<a href="#dp2/single-line-header-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple single-line header.</p>
        <h2>dp2/single-line-header-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;single-line-header&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple single-line header.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/single-line-header-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;single-line-header&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple single-line header.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/block-underline-with-child-block-input.obfl">
            block-underline-with-child-block<a href="#dp2/block-underline-with-child-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests underlining of a block with a child block.</p>
        <h2>dp2/block-underline-with-child-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;block-underline-with-child-block&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests underlining of a block with a child block.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="false" page-width="15" page-height="15"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block underline-style="solid"&gt;⠌⠌⠌⠌
              
      &lt;block&gt;⠌⠌⠌⠌
              &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/block-underline-with-child-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;block-underline-with-child-block&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests underlining of a block with a child block.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/collapsing-margins-empty-block-input.obfl">
            collapsing-margins-empty-block<a href="#dp2/collapsing-margins-empty-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests collapsing of margins of three adjacent sibling blocks, the middle one being empty.</p>
        <h2>dp2/collapsing-margins-empty-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;collapsing-margins-empty-block&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests collapsing of margins of three adjacent sibling blocks, the middle one being empty.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block margin-bottom="1"&gt;⠿ &lt;/block&gt;
    &lt;block margin-bottom="1"/&gt;
    &lt;block margin-bottom="1"&gt;
      &lt;evaluate expression=""""/&gt;
    &lt;/block&gt;
    &lt;block margin-top="1"&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/collapsing-margins-empty-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;collapsing-margins-empty-block&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests collapsing of margins of three adjacent sibling blocks, the middle one being empty.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/single-line-footer-empty-input.obfl">
            single-line-footer-empty<a href="#dp2/single-line-footer-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating empty bottom page margin using footer.</p>
        <h2>dp2/single-line-footer-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;single-line-footer-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating empty bottom page margin using footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/single-line-footer-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;single-line-footer-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating empty bottom page margin using footer.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-leaders-input.obfl">
            table-leaders<a href="#dp2/table-leaders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests leaders within table cells.</p>
        <h2>dp2/table-leaders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-leaders&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests leaders within table cells.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1" preferred-empty-space="0"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿ 
          &lt;leader pattern="⠄" position="100%" align="right"/&gt;
        &lt;/td&gt;
        &lt;td&gt;⠿⠿⠿ 
          &lt;leader pattern="⠄" position="100%" align="right"/&gt;
        &lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿ 
          &lt;leader pattern="⠄" position="100%" align="right"/&gt;
        &lt;/td&gt;
        &lt;td&gt;⠿ 
          &lt;leader pattern="⠄" position="100%" align="right"/&gt;
        &lt;/td&gt;
        &lt;td&gt;⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-leaders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-leaders&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests leaders within table cells.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠄⠄⠀⠿⠿⠿⠀⠄⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠀⠄⠄⠄⠀⠿⠀⠄⠄⠄⠀⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-colspan-input.obfl">
            table-colspan<a href="#dp2/table-colspan-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests a table cell spanning multiple columns.</p>
        <h2>dp2/table-colspan-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-colspan&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests a table cell spanning multiple columns.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1" preferred-empty-space="2"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td col-span="2"&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-colspan-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-colspan&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests a table cell spanning multiple columns.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠿⠿⠀⠀⠀⠿⠿⠀⠀⠀⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠿⠿⠀⠀⠀⠿⠿⠀⠀⠀⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/keep-with-next-input.obfl">
            keep-with-next<a href="#dp2/keep-with-next-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple keep-with-next.</p>
        <h2>dp2/keep-with-next-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;keep-with-next&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple keep-with-next.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
    &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/keep-with-next-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;keep-with-next&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple keep-with-next.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="6" cols="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/marker-indicator-input.obfl">
            marker-indicator<a href="#dp2/marker-indicator-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests margin-region with marker-indicator.</p>
        <h2>dp2/marker-indicator-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-indicator&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests margin-region with marker-indicator.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="indicator/pagenum" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="indicator/pagenum" value="x"/&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                
      &lt;marker class="indicator/pagenum" value="x"/&gt;
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤
                
      &lt;marker class="indicator/pagenum" value="x"/&gt;
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤
                
      &lt;marker class="indicator/pagenum" value="x"/&gt;
                ⠤⠤⠤
                
      &lt;marker class="indicator/pagenum" value="x"/&gt;
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
                
      &lt;marker class="indicator/pagenum" value="x"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/marker-indicator-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-indicator&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests margin-region with marker-indicator.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-auto-column-width-input.obfl">
            table-auto-column-width<a href="#dp2/table-auto-column-width-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width and the spacing between cell data is optimal. Cells in the first row have a bottom border to indicate the column widths and spacing.</p>
        <h2>dp2/table-auto-column-width-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-auto-column-width&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width and the spacing between cell data is optimal. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-auto-column-width-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-auto-column-width&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The column widths are computed so that the total table width is equal to the specified width and the spacing between cell data is optimal. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/first-line-indent-input.obfl">
            first-line-indent<a href="#dp2/first-line-indent-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests first-line-indent.</p>
        <h2>dp2/first-line-indent-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;first-line-indent&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests first-line-indent.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block first-line-indent="2"&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/first-line-indent-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;first-line-indent&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests first-line-indent.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-number-backward-reference-input.obfl">
            page-number-backward-reference<a href="#dp2/page-number-backward-reference-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests page-number referencing a previous block.</p>
        <h2>dp2/page-number-backward-reference-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-number-backward-reference&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests page-number referencing a previous block.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;block&gt;⠿⠿⠿
              &lt;/block&gt;
      &lt;block id="x"&gt;⠤⠤⠤
              &lt;/block&gt;
      &lt;block&gt;⠿⠿⠿
              &lt;/block&gt;
      &lt;block id="y"&gt;⠤⠤⠤
              &lt;/block&gt;
      &lt;block id="z"&gt;⠤⠤⠤
              &lt;/block&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;⠤⠤⠤
                
        &lt;page-number ref-id="x" number-format="default"/&gt;
      &lt;/block&gt;
      &lt;block&gt;⠤⠤⠤
                
        &lt;page-number ref-id="y" number-format="default"/&gt;
      &lt;/block&gt;
      &lt;block&gt;⠤⠤⠤
                
        &lt;page-number ref-id="z" number-format="default"/&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-number-backward-reference-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-number-backward-reference&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests page-number referencing a previous block.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠼⠃&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/hanging-indentation-input.obfl">
            hanging-indentation<a href="#dp2/hanging-indentation-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests hanging indentation (text-indent &gt; first-line-indent).</p>
        <h2>dp2/hanging-indentation-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;hanging-indentation&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests hanging indentation (text-indent &gt; first-line-indent).&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;block first-line-indent="2" text-indent="4"&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
              &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/hanging-indentation-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;hanging-indentation&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests hanging indentation (text-indent &gt; first-line-indent).&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/current-page-various-number-formats-input.obfl">
            current-page-various-number-formats<a href="#dp2/current-page-various-number-formats-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests current-page with different number-formats.</p>
        <h2>dp2/current-page-various-number-formats-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;current-page-various-number-formats&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests current-page with different number-formats.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="front" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠏"/&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="rear" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;current-page number-format="lower-roman"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="front"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="rear" initial-page-number="1"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/current-page-various-number-formats-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;current-page-various-number-formats&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests current-page with different number-formats.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠏⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-issue-147-input.obfl">
            table-issue-147<a href="#dp2/table-issue-147-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>see issue https://github.com/nlbdev/pipeline/issues/147</p>
        <h2>dp2/table-issue-147-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-issue-147&lt;/dc:title&gt;
    &lt;dc:description&gt;see issue https://github.com/nlbdev/pipeline/issues/147&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" page-width="29" page-height="28"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;table padding-left="2" border-left-style="solid" table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿⠿ ⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿&shy;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿ ⠿⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-issue-147-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-issue-147&lt;/dc:title&gt;
      &lt;dc:description&gt;see issue https://github.com/nlbdev/pipeline/issues/147&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="29" rows="28" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠇⠀⠀⠿⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠿⠿⠿⠿⠿⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿⠿&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-header-underline-input.obfl">
            table-header-underline<a href="#dp2/table-header-underline-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing. Cells in the first row have a bottom border.</p>
        <h2>dp2/table-header-underline-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-header-underline&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing. Cells in the first row have a bottom border.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1" preferred-empty-space="0"&gt;
      &lt;tr&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-header-underline-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-header-underline&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing. Cells in the first row have a bottom border.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒⠀⠒⠒⠒⠒⠀⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠀⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠀⠀⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/marker-indicator-before-block-input.obfl">
            marker-indicator-before-block<a href="#dp2/marker-indicator-before-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-indicator directly followed by a block. Broken: marker does not create an indicator: see https://github.com/joeha480/dotify/issues/194</p>
        <h2>dp2/marker-indicator-before-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-indicator-before-block&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-indicator directly followed by a block. Broken: marker does not create an indicator: see https://github.com/joeha480/dotify/issues/194&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="15" page-height="5" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="foo" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="x"/&gt;
      &lt;block&gt;⠤⠤⠤
                &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/marker-indicator-before-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-indicator-before-block&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-indicator directly followed by a block. Broken: marker does not create an indicator: see https://github.com/joeha480/dotify/issues/194&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/multi-line-footer-empty-input.obfl">
            multi-line-footer-empty<a href="#dp2/multi-line-footer-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating empty two-line bottom page margin using multiple footers.</p>
        <h2>dp2/multi-line-footer-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;multi-line-footer-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating empty two-line bottom page margin using multiple footers.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/multi-line-footer-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;multi-line-footer-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating empty two-line bottom page margin using multiple footers.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/multi-line-footer-input.obfl">
            multi-line-footer<a href="#dp2/multi-line-footer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests multi-line footer.</p>
        <h2>dp2/multi-line-footer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;multi-line-footer&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests multi-line footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠆⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/multi-line-footer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;multi-line-footer&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests multi-line footer.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠆⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠆⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/header-row-spacing-input.obfl">
            header-row-spacing<a href="#dp2/header-row-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating empty two-line top page margin using row-spacing on header.</p>
        <h2>dp2/header-row-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;header-row-spacing&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating empty two-line top page margin using row-spacing on header.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="false" page-number-variable="page"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header&gt;
        &lt;field/&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header row-spacing="2.0"&gt;
        &lt;field/&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿
              &lt;/block&gt;
    &lt;block break-before="page"&gt;⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/header-row-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;header-row-spacing&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating empty two-line top page margin using row-spacing on header.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row&gt;⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-header-repeat-input.obfl">
            table-header-repeat<a href="#dp2/table-header-repeat-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests repeating of table header rows on each page.</p>
        <h2>dp2/table-header-repeat-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-header-repeat&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests repeating of table header rows on each page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-header-repeat-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-header-repeat&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests repeating of table header rows on each page.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀⠀⠿⠿⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/multi-line-footer-partly-empty-input.obfl">
            multi-line-footer-partly-empty<a href="#dp2/multi-line-footer-partly-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating single-line footer within two-line bottom page margin using multiple footers.</p>
        <h2>dp2/multi-line-footer-partly-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;multi-line-footer-partly-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating single-line footer within two-line bottom page margin using multiple footers.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/multi-line-footer-partly-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;multi-line-footer-partly-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating single-line footer within two-line bottom page margin using multiple footers.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/keep-all-input.obfl">
            keep-all<a href="#dp2/keep-all-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple keep="page".</p>
        <h2>dp2/keep-all-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;keep-all&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple keep="page".&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
    &lt;block keep="page"&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/keep-all-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;keep-all&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple keep="page".&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="6" cols="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/pre-and-post-content-input.obfl">
            pre-and-post-content<a href="#dp2/pre-and-post-content-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests single volume with pre-content and post-content.</p>
        <h2>dp2/pre-and-post-content-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;pre-and-post-content&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests single volume with pre-content and post-content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="1000"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="a"&gt;
        &lt;block&gt;⠤⠤⠤⠤⠤⠤
                  &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content&gt;
      &lt;sequence master="a"&gt;
        &lt;block&gt;⠤⠤⠤⠤⠤⠤
                  &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/pre-and-post-content-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;pre-and-post-content&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests single volume with pre-content and post-content.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-number-reference-span-input.obfl">
            page-number-reference-span<a href="#dp2/page-number-reference-span-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests page-number reference to span. Broken: "Failed to complete volume division": is this a bug?</p>
        <h2>dp2/page-number-reference-span-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-number-reference-span&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests page-number reference to span. Broken: "Failed to complete volume division": is this a bug?&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="8" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;page-number ref-id="foo" number-format="default"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤
              
      &lt;span id="foo"&gt;
                ⠿
              &lt;/span&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-number-reference-span-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-number-reference-span&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests page-number reference to span. Broken: "Failed to complete volume division": is this a bug?&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="8" cols="14" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-breaking-and-borders-input.obfl">
            page-breaking-and-borders<a href="#dp2/page-breaking-and-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests borders in combination with page break control. Tests two blocks following each other in various situations: with or without keep="page" on the first block, with or without a bottom border on the first block, and with keep="page", orphans or widows on the second block.</p>
        <h2>dp2/page-breaking-and-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-breaking-and-borders&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests borders in combination with page break control. Tests two blocks following each other in various situations: with or without keep="page" on the first block, with or without a bottom border on the first block, and with keep="page", orphans or widows on the second block.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" duplex="true" page-number-variable="page" page-width="10" page-height="6"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page" border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page" border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block keep="page" border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-breaking-and-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-breaking-and-borders&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests borders in combination with page break control. Tests two blocks following each other in various situations: with or without keep="page" on the first block, with or without a bottom border on the first block, and with keep="page", orphans or widows on the second block.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/single-line-footer-input.obfl">
            single-line-footer<a href="#dp2/single-line-footer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple single-line footer.</p>
        <h2>dp2/single-line-footer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;single-line-footer&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple single-line footer.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
    &lt;block&gt;⠿ &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/single-line-footer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;single-line-footer&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple single-line footer.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/row-spacing-and-collapsing-margins-input.obfl">
            row-spacing-and-collapsing-margins<a href="#dp2/row-spacing-and-collapsing-margins-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests combinations of row-spacing and collapsing top/bottom margins, including on nested blocks with different row-spacing.</p>
        <h2>dp2/row-spacing-and-collapsing-margins-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;row-spacing-and-collapsing-margins&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests combinations of row-spacing and collapsing top/bottom margins, including on nested blocks with different row-spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="true" page-width="40" page-height="35"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block margin-bottom="1" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block margin-top="1" margin-bottom="1" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
      &lt;br/&gt;
                ⠁
              
    &lt;/block&gt;
    &lt;block margin-top="1" row-spacing="1.0"&gt;
      &lt;block margin-top="0" row-spacing="2.0"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
        &lt;br/&gt;
                  ⠁
                
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/row-spacing-and-collapsing-margins-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;row-spacing-and-collapsing-margins&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests combinations of row-spacing and collapsing top/bottom margins, including on nested blocks with different row-spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="35" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"/&gt;
          &lt;row rowgap="4"&gt;⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠁&lt;/row&gt;
          &lt;row&gt;⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/keep-with-following-sibling-of-parent-input.obfl">
            keep-with-following-sibling-of-parent<a href="#dp2/keep-with-following-sibling-of-parent-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests keeping block with following sibling of parent block.</p>
        <h2>dp2/keep-with-following-sibling-of-parent-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;keep-with-following-sibling-of-parent&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests keeping block with following sibling of parent block.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
    &lt;block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/keep-with-following-sibling-of-parent-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;keep-with-following-sibling-of-parent&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests keeping block with following sibling of parent block.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="6" cols="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/pre-content-use-when-input.obfl">
            pre-content-use-when<a href="#dp2/pre-content-use-when-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests two volume-templates with different pre-content.</p>
        <h2>dp2/pre-content-use-when-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;pre-content-use-when&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests two volume-templates with different pre-content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template use-when="(= $volume 1)" sheets-in-volume-max="3"/&gt;
  &lt;volume-template use-when="(&gt; $volume 1)" sheets-in-volume-max="3"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="a"&gt;
        &lt;block&gt;⠿⠿⠿⠿&lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
                ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
                ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
                ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
                ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
                ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤ ⠤⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/pre-content-use-when-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;pre-content-use-when&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests two volume-templates with different pre-content.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/sheets-in-volume-input.obfl">
            sheets-in-volume<a href="#dp2/sheets-in-volume-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests variable "sheets-in-volume".</p>
        <h2>dp2/sheets-in-volume-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;sheets-in-volume&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests variable "sheets-in-volume".&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="4"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="a"&gt;
        &lt;block&gt;
          &lt;evaluate expression="(round $sheets-in-volume)"/&gt;
        &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/sheets-in-volume-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;sheets-in-volume&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests variable "sheets-in-volume".&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/break-before-sheet-input.obfl">
            break-before-sheet<a href="#dp2/break-before-sheet-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests break-before="sheet".</p>
        <h2>dp2/break-before-sheet-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;break-before-sheet&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests break-before="sheet".&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="true" page-width="10" page-height="10"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠇"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠛⠛⠛&lt;/block&gt;
    &lt;block break-before="sheet"&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/break-before-sheet-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;break-before-sheet&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests break-before="sheet".&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠛⠛⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-col-spacing-input.obfl">
            table-col-spacing<a href="#dp2/table-col-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing.</p>
        <h2>dp2/table-col-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-col-spacing&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table table-col-spacing="1" preferred-empty-space="0"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-col-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-col-spacing&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple table with no cell wrapping. Column spacing is set to 1. The table takes up the space it needs to display the table data and column spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠀⠿⠿⠿⠀⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠀⠀⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/margin-region-and-border-input.obfl">
            margin-region-and-border<a href="#dp2/margin-region-and-border-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests combination of a left aligned margin-region and a border.</p>
        <h2>dp2/margin-region-and-border-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;margin-region-and-border&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests combination of a left aligned margin-region and a border.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" duplex="true" page-width="19" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators/&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;block border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="outer" border-bottom-style="solid" border-bottom-align="outer" align="center"&gt;⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/margin-region-and-border-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;margin-region-and-border&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests combination of a left aligned margin-region and a border.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="19" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠿⠿⠿⠿⠿⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠀⠀⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/orphans-widows-counting-and-borders-input.obfl">
            orphans-widows-counting-and-borders<a href="#dp2/orphans-widows-counting-and-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that counting of orphan and widow lines does not include borders.</p>
        <h2>dp2/orphans-widows-counting-and-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;orphans-widows-counting-and-borders&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that counting of orphan and widow lines does not include borders.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" duplex="true" page-number-variable="page" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2" border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2" border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2" border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2" border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/orphans-widows-counting-and-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;orphans-widows-counting-and-borders&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that counting of orphan and widow lines does not include borders.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/sheet-calculation-initial-page-number-input.obfl">
            sheet-calculation-initial-page-number<a href="#dp2/sheet-calculation-initial-page-number-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that calculation of sheets is not influenced by initial-page-number.</p>
        <h2>dp2/sheet-calculation-initial-page-number-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;sheet-calculation-initial-page-number&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that calculation of sheets is not influenced by initial-page-number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a" initial-page-number="2"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/sheet-calculation-initial-page-number-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;sheet-calculation-initial-page-number&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that calculation of sheets is not influenced by initial-page-number.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/list-of-references-document-range-input.obfl">
            list-of-references-document-range<a href="#dp2/list-of-references-document-range-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests list-of-references with range="document" and on-volume-start.</p>
        <h2>dp2/list-of-references-document-range-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;list-of-references-document-range&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests list-of-references with range="document" and on-volume-start.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="8" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="1000" use-when="(! (= $volume $volumes))"/&gt;
  &lt;volume-template sheets-in-volume-max="1000" use-when="(= $volume $volumes)"&gt;
    &lt;post-content&gt;
      &lt;dynamic-sequence master="main"&gt;
        &lt;list-of-references collection="endnotes" range="document"&gt;
          &lt;on-volume-start&gt;
            &lt;block border-bottom-style="solid" border-bottom-align="outer"&gt;
              &lt;evaluate expression="(round $started-volume-number)"/&gt;
            &lt;/block&gt;
          &lt;/on-volume-start&gt;
        &lt;/list-of-references&gt;
      &lt;/dynamic-sequence&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;collection name="endnotes"&gt;
    &lt;item id="a"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="I" number-format="default"/&gt;
                ⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
    &lt;item id="b"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="I" number-format="default"/&gt;
                ⠶⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
    &lt;item id="c"&gt;
      &lt;block&gt;
        &lt;page-number ref-id="III" number-format="default"/&gt;
                ⠶⠶⠶
              
      &lt;/block&gt;
    &lt;/item&gt;
  &lt;/collection&gt;
  &lt;sequence master="main"&gt;
    &lt;block id="I"&gt;⠿⠿⠿
              
      &lt;anchor item="a"/&gt;
              ⠿⠿⠿
              
      &lt;anchor item="b"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block id="III"&gt;⠿⠿⠿
              
      &lt;anchor item="c"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/list-of-references-document-range-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;list-of-references-document-range&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests list-of-references with range="document" and on-volume-start.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="8" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="8" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠶&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠶⠶&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠶⠶⠶&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/toc-sequence-in-post-content-input.obfl">
            toc-sequence-in-post-content<a href="#dp2/toc-sequence-in-post-content-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests toc-sequence in post-content.</p>
        <h2>dp2/toc-sequence-in-post-content-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;toc-sequence-in-post-content&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests toc-sequence in post-content.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="false" page-width="15" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;table-of-contents name="toc"&gt;
    &lt;toc-entry ref-id="ch_1"&gt;
              ⠿⠿⠿ ⠄⠄⠄⠄⠄⠄⠄⠄ 
      &lt;page-number ref-id="ch_1" number-format="default"/&gt;
    &lt;/toc-entry&gt;
    &lt;toc-entry ref-id="ch_2"&gt;
              ⠿⠿⠿ ⠄⠄⠄⠄⠄⠄⠄⠄ 
      &lt;page-number ref-id="ch_2" number-format="default"/&gt;
    &lt;/toc-entry&gt;
  &lt;/table-of-contents&gt;
  &lt;volume-template sheets-in-volume-max="100"&gt;
    &lt;post-content&gt;
      &lt;toc-sequence toc="toc" master="main" range="volume"/&gt;
    &lt;/post-content&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="main"&gt;
    &lt;block id="ch_1" translate=""&gt;⠿⠿ &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
    &lt;block id="ch_2" translate=""&gt;⠿⠿ &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/toc-sequence-in-post-content-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;toc-sequence-in-post-content&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests toc-sequence in post-content.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="5" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠀⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠄⠄⠄⠄⠄⠄⠄⠄⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠄⠄⠄⠄⠄⠄⠄⠄⠀⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/footer-middle-field-centering-input.obfl">
            footer-middle-field-centering<a href="#dp2/footer-middle-field-centering-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests position of middle field in footer when left field is empty and right field is non-empty. The middle field is positioned slightly more towards the left.</p>
        <h2>dp2/footer-middle-field-centering-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;footer-middle-field-centering&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests position of middle field in footer when left field is empty and right field is non-empty. The middle field is positioned slightly more towards the left.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠤⠤⠤⠤⠤⠤⠤⠤"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠿⠿⠿⠿"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/footer-middle-field-centering-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;footer-middle-field-centering&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests position of middle field in footer when left field is empty and right field is non-empty. The middle field is positioned slightly more towards the left.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/keep-several-blocks-input.obfl">
            keep-several-blocks<a href="#dp2/keep-several-blocks-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests keeping several consecutive blocks together.</p>
        <h2>dp2/keep-several-blocks-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;keep-several-blocks&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests keeping several consecutive blocks together.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              &lt;/block&gt;
    &lt;block&gt;
      &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page"&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/keep-several-blocks-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;keep-several-blocks&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests keeping several consecutive blocks together.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="6" cols="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/page-number-reference-other-sequence-input.obfl">
            page-number-reference-other-sequence<a href="#dp2/page-number-reference-other-sequence-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests page-number in one sequence referencing a block in another sequence. Broken: see https://github.com/joeha480/dotify/issues/97.</p>
        <h2>dp2/page-number-reference-other-sequence-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;page-number-reference-other-sequence&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests page-number in one sequence referencing a block in another sequence. Broken: see https://github.com/joeha480/dotify/issues/97.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="40" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;page-number ref-id="x" number-format="default"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence&gt;
    &lt;block id="x"&gt;⠤⠤⠤
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/page-number-reference-other-sequence-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;page-number-reference-other-sequence&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests page-number in one sequence referencing a block in another sequence. Broken: see https://github.com/joeha480/dotify/issues/97.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/margin-region-and-borders-input.obfl">
            margin-region-and-borders<a href="#dp2/margin-region-and-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests block with border on page with left margin (using margin-region). Broken: the border extends into the left margin: see https://github.com/joeha480/dotify/issues/195.</p>
        <h2>dp2/margin-region-and-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;margin-region-and-borders&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests block with border on page with left margin (using margin-region). Broken: the border extends into the left margin: see https://github.com/joeha480/dotify/issues/195.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators/&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block border-top-style="solid" border-top-align="outer"&gt;⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/margin-region-and-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;margin-region-and-borders&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests block with border on page with left margin (using margin-region). Broken: the border extends into the left margin: see https://github.com/joeha480/dotify/issues/195.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠀⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/simple-table-input.obfl">
            simple-table<a href="#dp2/simple-table-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests simple table with no cell wrapping. The table takes up the space it needs to display the table data.</p>
        <h2>dp2/simple-table-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;simple-table&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests simple table with no cell wrapping. The table takes up the space it needs to display the table data.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table preferred-empty-space="0"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
        &lt;td&gt;⠿⠿&lt;/td&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/simple-table-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;simple-table&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests simple table with no cell wrapping. The table takes up the space it needs to display the table data.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠿⠿⠿⠿⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠤⠤⠤⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠿⠿⠀⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/manual-volume-breaking-toc-input.obfl">
            manual-volume-breaking-toc<a href="#dp2/manual-volume-breaking-toc-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests manual volume breaking in combination with table of contents.</p>
        <h2>dp2/manual-volume-breaking-toc-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;manual-volume-breaking-toc&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests manual volume breaking in combination with table of contents.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" page-width="15" page-height="15"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;table-of-contents name="toc"&gt;
    &lt;toc-entry ref-id="a"&gt;
      &lt;page-number ref-id="a" number-format="default"/&gt;
    &lt;/toc-entry&gt;
    &lt;toc-entry ref-id="b"&gt;
      &lt;page-number ref-id="b" number-format="default"/&gt;
    &lt;/toc-entry&gt;
  &lt;/table-of-contents&gt;
  &lt;volume-template sheets-in-volume-max="10"&gt;
    &lt;pre-content&gt;
      &lt;toc-sequence master="master" range="volume" toc="toc"/&gt;
    &lt;/pre-content&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="master"&gt;
    &lt;block id="a"&gt;⠿⠿⠿⠿⠿&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master" break-before="volume"&gt;
    &lt;block id="b"&gt;⠿⠿⠿⠿⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/manual-volume-breaking-toc-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;manual-volume-breaking-toc&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests manual volume breaking in combination with table of contents.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="15" rows="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/volume-template-various-sheets-in-volume-max-input.obfl">
            volume-template-various-sheets-in-volume-max<a href="#dp2/volume-template-various-sheets-in-volume-max-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests two volume-templates (first and rest) with different sheets-in-volume-max.</p>
        <h2>dp2/volume-template-various-sheets-in-volume-max-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;volume-template-various-sheets-in-volume-max&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests two volume-templates (first and rest) with different sheets-in-volume-max.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template use-when="(! (= $volume 1))" sheets-in-volume-max="3"/&gt;
  &lt;volume-template use-when="(= $volume 1)" sheets-in-volume-max="1"/&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/volume-template-various-sheets-in-volume-max-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;volume-template-various-sheets-in-volume-max&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests two volume-templates (first and rest) with different sheets-in-volume-max.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume rows="5" cols="10" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/multi-line-header-partly-empty-input.obfl">
            multi-line-header-partly-empty<a href="#dp2/multi-line-header-partly-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests creating single-line header within two-line top page margin using multiple headers.</p>
        <h2>dp2/multi-line-header-partly-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;multi-line-header-partly-empty&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests creating single-line header within two-line top page margin using multiple headers.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠆"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/multi-line-header-partly-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;multi-line-header-partly-empty&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests creating single-line header within two-line top page margin using multiple headers.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="25" cols="40" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/block-underline-styles-input.obfl">
            block-underline-styles<a href="#dp2/block-underline-styles-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests various combinations of underline-style, underline-align and underline-width.</p>
        <h2>dp2/block-underline-styles-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;block-underline-styles&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests various combinations of underline-style, underline-align and underline-width.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="false" page-width="15" page-height="15"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;block underline-style="solid" underline-align="center"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" underline-align="inner"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" underline-align="outer"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" underline-align="inner" underline-width="2"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" underline-align="outer" underline-width="2"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
    &lt;block underline-style="solid" underline-width="3"&gt;⠌⠌⠌⠌
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/block-underline-styles-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;block-underline-styles&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests various combinations of underline-style, underline-align and underline-width.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="15" rows="15" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠛⠛⠛⠛&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠶⠶⠶⠶&lt;/row&gt;
          &lt;row&gt;⠌⠌⠌⠌&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/current-page-various-positions-input.obfl">
            current-page-various-positions<a href="#dp2/current-page-various-positions-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests current-page with different layout-masters. Sequences with different layout-masters, that each place current-page in a different position (header, footer or nowhere), follow each other. Also tests resetting page number with initial-page-number.</p>
        <h2>dp2/current-page-various-positions-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;current-page-various-positions&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests current-page with different layout-masters. Sequences with different layout-masters, that each place current-page in a different position (header, footer or nowhere), follow each other. Also tests resetting page number with initial-page-number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="b" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;layout-master name="c" page-width="15" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="b"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a" initial-page-number="10"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="c"&gt;
    &lt;block&gt;⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/current-page-various-positions-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;current-page-various-positions&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests current-page with different layout-masters. Sequences with different layout-masters, that each place current-page in a different position (header, footer or nowhere), follow each other. Also tests resetting page number with initial-page-number.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="15" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠚&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/volume-breaking-between-words-input.obfl">
            volume-breaking-between-words<a href="#dp2/volume-breaking-between-words-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests allowsEndingVolumeOnHyphen(false) when a volume-transition element is present. The test passes if the volume-transition element is removed from the OBFL.</p>
        <h2>dp2/volume-breaking-between-words-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;volume-breaking-between-words&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests allowsEndingVolumeOnHyphen(false) when a volume-transition element is present. The test passes if the volume-transition element is removed from the OBFL.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="true" page-number-variable="page" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3"/&gt;
  &lt;volume-transition range="sheet"/&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠁⠁⠁⠁⠁
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿&shy;⠿⠿⠿⠿⠿
              ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠁⠁⠁⠁⠁ ⠿⠿
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/volume-breaking-between-words-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠀⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/keep-content-with-border-input.obfl">
            keep-content-with-border<a href="#dp2/keep-content-with-border-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that pages are not broken between a border of a block and the content of that block. Tested with keep="page", orphans or widows on the block with the border. Also tested for two nested blocks with borders.</p>
        <h2>dp2/keep-content-with-border-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;keep-content-with-border&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that pages are not broken between a border of a block and the content of that block. Tested with keep="page", orphans or widows on the block with the border. Also tested for two nested blocks with borders.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" duplex="true" page-number-variable="page" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block keep="page" border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block orphans="2" border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block widows="2" border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block border-bottom-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
                ⠿⠿⠿⠿⠿⠿
              &lt;/block&gt;
    &lt;block border-top-style="solid"&gt;
      &lt;block border-top-style="solid"&gt;⠿⠿⠿⠿⠿⠿
                  ⠿⠿⠿⠿⠿⠿
                &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/keep-content-with-border-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;keep-content-with-border&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that pages are not broken between a border of a block and the content of that block. Tested with keep="page", orphans or widows on the block with the border. Also tested for two nested blocks with borders.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/manual-and-automatic-volume-breaking-input.obfl">
            manual-and-automatic-volume-breaking<a href="#dp2/manual-and-automatic-volume-breaking-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests combination of manual and automatic volume breaking.</p>
        <h2>dp2/manual-and-automatic-volume-breaking-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;manual-and-automatic-volume-breaking&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests combination of manual and automatic volume breaking.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" duplex="true" page-width="10" page-height="6"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;current-page number-format="default"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="3"/&gt;
  &lt;sequence master="main"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
    &lt;block volume-keep-priority="1"&gt;⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
              ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿
            &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
              ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main" break-before="volume"&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤ ⠤⠤⠤⠤⠤
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/manual-and-automatic-volume-breaking-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;manual-and-automatic-volume-breaking&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests combination of manual and automatic volume breaking.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠙&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠓&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠊&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁⠚&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠼⠁⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠑&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠓&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁⠊&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠚&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠉&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠙&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠑&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠓&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="dp2/table-auto-column-width-cell-wrapping-input.obfl">
            table-auto-column-width-cell-wrapping<a href="#dp2/table-auto-column-width-cell-wrapping-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests table with data that can wrap multiple lines in a cell. The column widths are computed so that the total table width is equal to the specified width and the table height is minimized. Cells in the first row have a bottom border to indicate the column widths and spacing.</p>
        <h2>dp2/table-auto-column-width-cell-wrapping-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;table-auto-column-width-cell-wrapping&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests table with data that can wrap multiple lines in a cell. The column widths are computed so that the total table width is equal to the specified width and the table height is minimized. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main"&gt;
    &lt;table col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-width="1" border-bottom-align="center"&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿⠿⠿⠿ ⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿ ⠿⠿⠿&lt;/td&gt;
        &lt;td&gt;⠿⠿⠿ ⠿⠿⠿&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>dp2/table-auto-column-width-cell-wrapping-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;table-auto-column-width-cell-wrapping&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests table with data that can wrap multiple lines in a cell. The column widths are computed so that the total table width is equal to the specified width and the table height is minimized. Cells in the first row have a bottom border to indicate the column widths and spacing.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="5" cols="20" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠀⠀⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒⠒⠒⠀⠒⠒⠒⠒⠒⠒⠒&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠿⠿⠿⠀⠀⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠿⠿⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠀⠀⠿⠿⠿⠀⠀⠀⠀⠀⠿⠿⠿⠀⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-spread-initial-page-number-input.obfl">
            marker-reference-spread-initial-page-number<a href="#marker-ref/marker-reference-spread-initial-page-number-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that marker-reference with scope spread is not influenced by initial-page-number.</p>
        <h2>marker-ref/marker-reference-spread-initial-page-number-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-spread-initial-page-number&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that marker-reference with scope spread is not influenced by initial-page-number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a" initial-page-number="2"&gt;
    &lt;block&gt;
              ⠁⠁⠁⠁⠁
              ⠁⠁⠁⠁⠁
              ⠁⠁⠁⠁⠁
              ⠁⠁⠁⠁⠁
              ​
              ⠁⠁⠁⠁⠁
              
      &lt;marker class="foo" value="1"/&gt;
              ⠁⠁⠁⠁⠁
            
    &lt;/block&gt;
    &lt;block break-before="page"&gt;​
            ⠁⠁⠁⠁⠁
            ⠁⠁⠁⠁⠁
            ⠁⠁⠁⠁⠁
            ⠁⠁⠁⠁⠁
            ​
            ⠁⠁⠁⠁⠁
            
      &lt;marker class="foo" value="2"/&gt;
            ⠁⠁⠁⠁⠁
            
    &lt;/block&gt;
    &lt;block break-before="page"&gt;​
            ⠁⠁⠁⠁⠁
            &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-spread-initial-page-number-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-spread-initial-page-number&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that marker-reference with scope spread is not influenced by initial-page-number.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-issue-39-input.obfl">
            Marker reference sequence search test<a href="#marker-ref/marker-reference-issue-39-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker reference with direction="backward" and scope="sequence" combined with break-before="volume".</p>
        <h2>marker-ref/marker-reference-issue-39-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference sequence search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker reference with direction="backward" and scope="sequence" combined with break-before="volume".&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="master" duplex="true" page-width="10" page-height="5"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="master"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="master" break-before="volume"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="2"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
    &lt;block&gt;⠤⠤⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-issue-39-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-spread-start-workaround-input.obfl">
            marker-reference-spread-start-workaround<a href="#marker-ref/marker-reference-spread-start-workaround-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests (hypothetical) marker-reference type that corresponds with 'spread-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward spread search for the marker 'foo/prev' starting on the left page (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' starting on the right page (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope spread and direction backward, starting on the right page, which corresponds more or less with 'spread-last-except-start' in CSS (bottom left corner). Everything tested on both left- and right-hand pages. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-spread-start-workaround-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-spread-start-workaround&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'spread-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward spread search for the marker 'foo/prev' starting on the left page (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' starting on the right page (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope spread and direction backward, starting on the right page, which corresponds more or less with 'spread-last-except-start' in CSS (bottom left corner). Everything tested on both left- and right-hand pages. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="6" duplex="true" page-number-variable="page"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo/prev" direction="forward" scope="spread-content" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/template&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo/prev" direction="forward" scope="spread-content"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="spread" start-offset="1"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="0"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo/prev" value="0"/&gt;
      &lt;marker class="foo" value="1"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo/prev" value="1"/&gt;
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
      &lt;marker class="foo/prev" value="3"/&gt;
      &lt;marker class="foo" value="3"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo/prev" value="3"/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo/prev" value="4"/&gt;
        &lt;marker class="foo" value="5"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="foo/prev" value="5"/&gt;
        &lt;marker class="foo" value="6"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-spread-start-workaround-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-spread-start-workaround&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'spread-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward spread search for the marker 'foo/prev' starting on the left page (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' starting on the right page (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope spread and direction backward, starting on the right page, which corresponds more or less with 'spread-last-except-start' in CSS (bottom left corner). Everything tested on both left- and right-hand pages. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠚⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠋⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-sequence-backward-input.obfl">
            marker-reference-sequence-backward<a href="#marker-ref/marker-reference-sequence-backward-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-reference with scope sequence and direction backward. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-sequence-backward-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-sequence-backward&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-reference with scope sequence and direction backward. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
      &lt;marker class="foo" value="3"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="5"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;marker class="foo" value="6"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-sequence-backward-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-sequence-backward&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-reference with scope sequence and direction backward. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-spread-volume-input.obfl">
            Marker reference spread search test<a href="#marker-ref/marker-ref-spread-volume-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a spread limited to volume boundaries. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.</p>
        <h2>marker-ref/marker-ref-spread-volume-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference spread search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a spread limited to volume boundaries. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="1"&gt;
    &lt;pre-content/&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="4"/&gt;⠤⠤
      &lt;marker class="pagenum" value="5"/&gt;⠤⠤
      &lt;marker class="pagenum" value="6"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="7"/&gt;⠤⠤
      &lt;marker class="pagenum" value="8"/&gt;⠤⠤
      &lt;marker class="pagenum" value="9"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="10"/&gt;⠤⠤
      &lt;marker class="pagenum" value="11"/&gt;⠤⠤
      &lt;marker class="pagenum" value="12"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-spread-volume-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-12-16&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-across-sequence-workaround-input.obfl">
            marker-reference-across-sequence-workaround<a href="#marker-ref/marker-reference-across-sequence-workaround-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-reference with multiple sequences. Currently marker-reference doesn't search across sequences. As a workaround I repeat markers at the start of a new sequence when needed.</p>
        <h2>marker-ref/marker-reference-across-sequence-workaround-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-across-sequence-workaround&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-reference with multiple sequences. Currently marker-reference doesn't search across sequences. As a workaround I repeat markers at the start of a new sequence when needed.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo/entry" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;marker class="foo/entry" value="1"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠁⠁⠁⠁⠁
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-across-sequence-workaround-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-across-sequence-workaround&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-reference with multiple sequences. Currently marker-reference doesn't search across sequences. As a workaround I repeat markers at the start of a new sequence when needed.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-sheet-input.obfl">
            Marker reference sheet search test<a href="#marker-ref/marker-ref-sheet-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a sheet. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.</p>
        <h2>marker-ref/marker-ref-sheet-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference sheet search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a sheet. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="sheet"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="sheet" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="sheet" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="sheet"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="4"/&gt;⠤⠤
      &lt;marker class="pagenum" value="5"/&gt;⠤⠤
      &lt;marker class="pagenum" value="6"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="7"/&gt;⠤⠤
      &lt;marker class="pagenum" value="8"/&gt;⠤⠤
      &lt;marker class="pagenum" value="9"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="10"/&gt;⠤⠤
      &lt;marker class="pagenum" value="11"/&gt;⠤⠤
      &lt;marker class="pagenum" value="12"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-sheet-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-spread-across-volume-input.obfl">
            marker-reference-spread-across-volume<a href="#marker-ref/marker-reference-spread-across-volume-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that marker-reference with scope spread does not search beyond volume boundaries.</p>
        <h2>marker-ref/marker-reference-spread-across-volume-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-spread-across-volume&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that marker-reference with scope spread does not search beyond volume boundaries.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="2"/&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="1"/&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;​
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;​
                ⠁⠁⠁⠁⠁
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-spread-across-volume-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-spread-across-volume&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that marker-reference with scope spread does not search beyond volume boundaries.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-after-leader-input.obfl">
            Marker reference after leader<a href="#marker-ref/marker-ref-after-leader-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references after leader.</p>
        <h2>marker-ref/marker-ref-after-leader-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference after leader&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references after leader.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="6" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;br/&gt;⠤⠤
      &lt;br/&gt;⠤⠤
      &lt;br/&gt;⠤⠤
      &lt;br/&gt;⠤⠤
      &lt;leader position="100%" align="right"/&gt;⠤⠤⠤⠤⠁
      &lt;marker class="pagenum" value="2"/&gt;⠤
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="3"/&gt;⠤⠤
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-after-leader-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2016-03-24&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="6" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠁⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-start-offset-first-page-input.obfl">
            marker-reference-start-offset-first-page<a href="#marker-ref/marker-reference-start-offset-first-page-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-reference with scope page and start-offset -1 on first page of document. Expected is that the search does not return anything. See https://github.com/joeha480/dotify/issues/144.</p>
        <h2>marker-ref/marker-reference-start-offset-first-page-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-start-offset-first-page&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-reference with scope page and start-offset -1 on first page of document. Expected is that the search does not return anything. See https://github.com/joeha480/dotify/issues/144.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="forward" scope="page" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="1"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-start-offset-first-page-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-start-offset-first-page&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-reference with scope page and start-offset -1 on first page of document. Expected is that the search does not return anything. See https://github.com/joeha480/dotify/issues/144.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-page-input.obfl">
            Marker reference page search test<a href="#marker-ref/marker-ref-page-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a page.</p>
        <h2>marker-ref/marker-ref-page-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="page"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="page"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;⠤⠤
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-page-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-page-vol-input.obfl">
            Marker reference page search test<a href="#marker-ref/marker-ref-page-vol-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a page.</p>
        <h2>marker-ref/marker-ref-page-vol-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="7" inner-margin="0" outer-margin="0" row-spacing="1" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="page"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="page"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10" use-when="(= $volume 1)"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="main" initial-page-number="1"&gt;
        &lt;block&gt;⠿⠿
          &lt;marker class="pagenum" value="1"/&gt;⠿⠿
          &lt;marker class="pagenum" value="2"/&gt;⠿⠿
          &lt;marker class="pagenum" value="3"/&gt;
        &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-template sheets-in-volume-max="10" use-when="(&gt; $volume 1)"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="main" initial-page-number="1"&gt;
        &lt;block&gt;⠤⠤
          &lt;marker class="pagenum" value="4"/&gt;⠤⠤
          &lt;marker class="pagenum" value="5"/&gt;⠤⠤
          &lt;marker class="pagenum" value="6"/&gt;
        &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-page-vol-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="7" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="7" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-page-start-workaround-input.obfl">
            marker-reference-page-start-workaround<a href="#marker-ref/marker-reference-page-start-workaround-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests (hypothetical) marker-reference type that corresponds with 'page-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward page search for the marker 'foo/prev' (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope page and direction backward, which corresponds more or less with 'page-last-except-start' in CSS (bottom left corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-page-start-workaround-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-page-start-workaround&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'page-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward page search for the marker 'foo/prev' (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope page and direction backward, which corresponds more or less with 'page-last-except-start' in CSS (bottom left corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="6" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo/prev" direction="forward" scope="page-content"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="page"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="1"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo/prev" value="1"/&gt;
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo/prev" value="3"/&gt;
      &lt;marker class="foo" value="3"/&gt;
                ​
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo/prev" value="3"/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo/prev" value="4"/&gt;
        &lt;marker class="foo" value="5"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="foo/prev" value="5"/&gt;
        &lt;marker class="foo" value="6"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-page-start-workaround-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-page-start-workaround&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'page-start' in CSS. This type is not directly supported in OBFL. As a workaround I do a forward page search for the marker 'foo/prev' (rendered top left corner), and if that does not return a value, a backward sequence search for the marker 'foo' (top right corner). At any position in the OBFL the value of the preceding marker of class 'foo' matches the value of the following marker of class 'foo/prev'. In addition, tests marker-reference with scope page and direction backward, which corresponds more or less with 'page-last-except-start' in CSS (bottom left corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠋⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-page-content-input.obfl">
            Marker reference page-content search test<a href="#marker-ref/marker-ref-page-content-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a page.</p>
        <h2>marker-ref/marker-ref-page-content-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference page-content search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="page-content"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="page-content"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="1"/&gt;
      &lt;marker class="pagenum" value="2"/&gt;
    &lt;/block&gt;
    &lt;block&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;⠤⠤
      &lt;marker class="pagenum" value="4"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-page-content-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-spread-sequence-input.obfl">
            Marker reference spread search test<a href="#marker-ref/marker-ref-spread-sequence-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a spread, but across different sequences. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.</p>
        <h2>marker-ref/marker-ref-spread-sequence-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference spread search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a spread, but across different sequences. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="4"/&gt;⠤⠤
      &lt;marker class="pagenum" value="5"/&gt;⠤⠤
      &lt;marker class="pagenum" value="6"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="main"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="7"/&gt;⠤⠤
      &lt;marker class="pagenum" value="8"/&gt;⠤⠤
      &lt;marker class="pagenum" value="9"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="10"/&gt;⠤⠤
      &lt;marker class="pagenum" value="11"/&gt;⠤⠤
      &lt;marker class="pagenum" value="12"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-spread-sequence-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-page-forward-backward-input.obfl">
            marker-reference-page-forward-backward<a href="#marker-ref/marker-reference-page-forward-backward-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-reference with scope page. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-page-forward-backward-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-page-forward-backward&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-reference with scope page. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="forward" scope="page"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="page"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
      &lt;marker class="foo" value="3"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="5"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;marker class="foo" value="6"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-page-forward-backward-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-page-forward-backward&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-reference with scope page. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-sequence-vol-input.obfl">
            Marker reference page search test<a href="#marker-ref/marker-ref-sequence-vol-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a page.</p>
        <h2>marker-ref/marker-ref-sequence-vol-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="7" inner-margin="0" outer-margin="0" row-spacing="1" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="chapter" direction="forward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;volume-template sheets-in-volume-max="10" use-when="(= $volume 1)"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="main" initial-page-number="1"&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
        &lt;block&gt;
          &lt;marker class="chapter" value="⠤"/&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿
        &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;volume-template sheets-in-volume-max="10" use-when="(&gt; $volume 1)"&gt;
    &lt;pre-content&gt;
      &lt;sequence master="main" initial-page-number="1"&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
        &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
        &lt;block&gt;
          &lt;marker class="chapter" value="⠿"/&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿
        &lt;/block&gt;
      &lt;/sequence&gt;
    &lt;/pre-content&gt;
    &lt;post-content/&gt;
  &lt;/volume-template&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-sequence-vol-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2017-02-06&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="7" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
    &lt;volume cols="10" rows="7" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-multiple-input.obfl">
            Marker overflow test<a href="#marker-ref/marker-ref-multiple-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that overflowing markers are on the correct page.</p>
        <h2>marker-ref/marker-ref-multiple-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" hyphenate="true" xml:lang="sv"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker overflow test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that overflowing markers are on the correct page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="6" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum-turn" direction="forward" scope="page-content"/&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="1"/&gt;
      &lt;block&gt;⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤&lt;/block&gt;
      &lt;marker class="pagenum" value="2"/&gt;
      &lt;marker class="pagenum-turn" value="1&ndash;"/&gt;
      &lt;marker class="pagenum" value="3"/&gt;
      &lt;marker class="pagenum-turn" value="2&ndash;"/&gt;
      &lt;marker class="pagenum" value="4"/&gt;
      &lt;marker class="pagenum-turn" value="3&ndash;"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="pagenum" value="5"/&gt;
      &lt;marker class="pagenum-turn" value="4&ndash;"/&gt;
      &lt;block&gt;⠿⠿&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-multiple-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;dummy-id-ba3361b702f73&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠤⠤⠼⠙&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑&lt;/row&gt;
          &lt;row&gt;⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-spread-across-sequence-input.obfl">
            marker-reference-spread-across-sequence<a href="#marker-ref/marker-reference-spread-across-sequence-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that marker-reference with scope spread searches beyond sequence boundaries, i.e. a search on the first page of a new sequence includes assignments made on the last page of the previous sequence if that last page is a left-hand page.</p>
        <h2>marker-ref/marker-reference-spread-across-sequence-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-spread-across-sequence&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that marker-reference with scope spread searches beyond sequence boundaries, i.e. a search on the first page of a new sequence includes assignments made on the last page of the previous sequence if that last page is a left-hand page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;template use-when="(= (% $page 2) 1)"&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field/&gt;
      &lt;/footer&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="1"/&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;​
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;⠁⠁⠁⠁⠁
              &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-spread-across-sequence-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-spread-across-sequence&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests that marker-reference with scope spread searches beyond sequence boundaries, i.e. a search on the first page of a new sequence includes assignments made on the last page of the previous sequence if that last page is a left-hand page.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-spread-input.obfl">
            Marker reference spread search test<a href="#marker-ref/marker-ref-spread-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a spread. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.</p>
        <h2>marker-ref/marker-ref-spread-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference spread search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a spread. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="1"/&gt;⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="4"/&gt;⠤⠤
      &lt;marker class="pagenum" value="5"/&gt;⠤⠤
      &lt;marker class="pagenum" value="6"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="7"/&gt;⠤⠤
      &lt;marker class="pagenum" value="8"/&gt;⠤⠤
      &lt;marker class="pagenum" value="9"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;⠤⠤
      &lt;marker class="pagenum" value="10"/&gt;⠤⠤
      &lt;marker class="pagenum" value="11"/&gt;⠤⠤
      &lt;marker class="pagenum" value="12"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-spread-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠚⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-page-content-forward-backward-input.obfl">
            marker-reference-page-content-forward-backward<a href="#marker-ref/marker-reference-page-content-forward-backward-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker-reference with scope page-content. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-page-content-forward-backward-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-page-content-forward-backward&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker-reference with scope page-content. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="forward" scope="page-content"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="page-content"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="1"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
      &lt;marker class="foo" value="3"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="5"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="6"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page" padding-top="1"&gt;
      &lt;block&gt;
        &lt;marker class="foo" value="7"/&gt;
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;block&gt;
          &lt;marker class="foo" value="8"/&gt;
        &lt;/block&gt;
                  ⠁⠁⠁⠁⠁
                
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block padding-top="1"&gt;
        &lt;block&gt;
          &lt;marker class="foo" value="9"/&gt;
        &lt;/block&gt;
                  ⠁⠁⠁⠁⠁
                
      &lt;/block&gt;
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-page-content-forward-backward-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-page-content-forward-backward&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker-reference with scope page-content. Tested with both forward and backward direction. Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠀⠀⠀⠀⠼⠛&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠊⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-sequence-input.obfl">
            Marker reference page search test<a href="#marker-ref/marker-ref-sequence-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references forward in the document.</p>
        <h2>marker-ref/marker-ref-sequence-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references forward in the document.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="10" page-height="7" inner-margin="0" outer-margin="0" row-spacing="1" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="chapter" direction="forward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;⠿⠤
      &lt;marker class="chapter" value="⠿"/&gt; ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿
    &lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
    &lt;block&gt;⠿⠤
      &lt;marker class="chapter" value="⠤"/&gt; ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿
    &lt;/block&gt;
    &lt;block&gt;⠿⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠤ ⠤⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-sequence-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2017-02-06&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference page search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references forward in the document.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="7" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠀⠤⠤⠀⠤⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-reference-page-first-workaround-input.obfl">
            marker-reference-page-first-workaround<a href="#marker-ref/marker-reference-page-first-workaround-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests (hypothetical) marker-reference type that corresponds with 'page-first' in CSS. This type is not yet directly supported in OBFL. As a workaround I do a forward page search (left corner in this test), and if that does not return a value, a backward sequence search (right corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.</p>
        <h2>marker-ref/marker-reference-page-first-workaround-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="und" hyphenate="false"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;marker-reference-page-first-workaround&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'page-first' in CSS. This type is not yet directly supported in OBFL. As a workaround I do a forward page search (left corner in this test), and if that does not return a value, a backward sequence search (right corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="10" page-height="5" duplex="true" page-number-variable="page"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="forward" scope="page"/&gt;
        &lt;/field&gt;
        &lt;field/&gt;
        &lt;field&gt;
          &lt;marker-reference marker="foo" direction="backward" scope="sequence"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="1"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
                ⠁⠁⠁⠁⠁
                
      &lt;marker class="foo" value="2"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ​
      &lt;marker class="foo" value="3"/&gt;
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                
      &lt;br/&gt;
      &lt;marker class="foo" value="4"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="foo" value="5"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;marker class="foo" value="6"/&gt;⠁⠁⠁⠁⠁
                ⠁⠁⠁⠁⠁
              
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-reference-page-first-workaround-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:title&gt;marker-reference-page-first-workaround&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests (hypothetical) marker-reference type that corresponds with 'page-first' in CSS. This type is not yet directly supported in OBFL. As a workaround I do a forward page search (left corner in this test), and if that does not return a value, a backward sequence search (right corner). Tested with markers at the beginning of the sequence, in the middle of a page, at a soft page break within a block, at a soft page break between two blocks, and at a hard page break.&lt;/dc:description&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="5" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠋⠀⠀⠀⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-ref/marker-ref-spread-content-input.obfl">
            Marker reference spread-content search test<a href="#marker-ref/marker-ref-spread-content-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests marker references within a spread. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.</p>
        <h2>marker-ref/marker-ref-spread-content-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Marker reference spread-content search test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests marker references within a spread. Note that fields are different on left/right hand sides
		due to the fact that the scope does not effect the starting point of the search. The starting point is always the
		current page.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread-content"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread-content" start-offset="1"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="spread-content" start-offset="-1"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="backward" scope="spread-content"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="pagenum" value="1"/&gt;
      &lt;/block&gt;
			⠤⠤
      &lt;marker class="pagenum" value="2"/&gt;⠤⠤
      &lt;marker class="pagenum" value="3"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="pagenum" value="4"/&gt;
      &lt;/block&gt;
			⠤⠤
      &lt;marker class="pagenum" value="5"/&gt;⠤⠤
      &lt;marker class="pagenum" value="6"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="pagenum" value="7"/&gt;
      &lt;/block&gt;
			⠤⠤
      &lt;marker class="pagenum" value="8"/&gt;⠤⠤
      &lt;marker class="pagenum" value="9"/&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;
        &lt;marker class="pagenum" value="10"/&gt;
      &lt;/block&gt;
			⠤⠤
      &lt;marker class="pagenum" value="11"/&gt;⠤⠤
      &lt;marker class="pagenum" value="12"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-ref/marker-ref-spread-content-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-21&lt;/dc:date&gt;
      &lt;dc:title&gt;Marker reference search test&lt;/dc:title&gt;
      &lt;dc:description&gt;Tests marker references within a page.&lt;/dc:description&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁⠃&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="multi-line-footer-input.obfl">
            Multi line footer test<a href="#multi-line-footer-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that multiple footers work.</p>
        <h2>multi-line-footer-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Multi line footer test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that multiple footers work.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value="⠤⠤"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
      &lt;footer&gt;
        &lt;field&gt;
          &lt;string value=""/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠤⠤"/&gt;
        &lt;/field&gt;
      &lt;/footer&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>multi-line-footer-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-07&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="padding-input.obfl">
            Padding test<a href="#padding-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the padding property</p>
        <h2>padding-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Padding test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the padding property&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block border-style="solid" border-width="1" margin-left="2" margin-right="2" padding-left="2" padding-right="2" padding-top="1" padding-bottom="1"&gt;
      &lt;block&gt;⠤​⠤​⠤​⠤​⠤​⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>padding-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-06&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠏⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠤⠤⠤⠤⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠤⠤⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠧⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="current-page-input.obfl">
            Tests page variable<a href="#current-page-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that variable page returns the current page number.</p>
        <h2>current-page-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tests page variable&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that variable page returns the current page number.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>current-page-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="page-border-input.obfl">
            Page border test<a href="#page-border-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the page border</p>
        <h2>page-border-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Page border test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the page border&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false" border-style="solid"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block/&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>page-border-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2017-07-06&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠏⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠇⠀⠀⠀⠀⠀⠀⠀⠀⠸&lt;/row&gt;
          &lt;row&gt;⠧⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="field-style-input.obfl">
            Field text style test<a href="#field-style-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that text styles can be used with fields.</p>
        <h2>field-style-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Field text style test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that text styles can be used with fields.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field text-style="strong"&gt;
          &lt;string value="page "/&gt;
          &lt;current-page text-style="em"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;⠤⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>field-style-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-10-12&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠨⠨⠏⠁⠛⠑⠀⠠⠄⠼⠁⠱&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="list/list-custom-symbol-input.obfl">
            Ordered list test<a href="#list/list-custom-symbol-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests custom symbol in a list item</p>
        <h2>list/list-custom-symbol-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Ordered list test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests custom symbol in a list item&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block list-type="ul" block-indent="3"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block list-item-label="⠤"&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>list/list-custom-symbol-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠿⠀⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="list/list-alpha-input.obfl">
            Ordered list test<a href="#list/list-alpha-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests alpha-numerical lists</p>
        <h2>list/list-alpha-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Ordered list test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests alpha-numerical lists&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block list-type="ol" list-style="a" block-indent="3"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>list/list-alpha-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠃⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠉⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠙⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠑⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠋⠀⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="list/list-continue-input.obfl">
            Ordered list test<a href="#list/list-continue-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests continuing ordered lists</p>
        <h2>list/list-continue-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Ordered list test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests continuing ordered lists&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block list-type="ol" block-indent="3"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
    &lt;block list-type="ol" block-indent="3"&gt;
      &lt;block list-item-label="4"&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>list/list-continue-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠃⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠑⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠋⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="list/list-custom-symbol2-input.obfl">
            Ordered list test<a href="#list/list-custom-symbol2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests custom list symbol</p>
        <h2>list/list-custom-symbol2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Ordered list test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests custom list symbol&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block list-type="ul" list-style="⠤" block-indent="3"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>list/list-custom-symbol2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠀⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="row-spacing-input.obfl">
            Row spacing test<a href="#row-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests collapsing margins of blocks with different row spacing.</p>
        <h2>row-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="sv"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Row spacing test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests collapsing margins of blocks with different row spacing.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" page-width="40" page-height="25" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block margin-bottom="1"&gt;
      &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿&lt;/block&gt;
    &lt;/block&gt;
    &lt;block margin-top="1" margin-bottom="1"&gt;
      &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿&lt;/block&gt;
    &lt;/block&gt;
    &lt;block margin-top="1"&gt;
      &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>row-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-09-22&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="40" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠿⠿⠿⠿⠿⠿⠿⠀⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-multiline-input.obfl">
            Tables with multiple row cells test<a href="#table/tables-multiline-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with multiple row cells works as expected.</p>
        <h2>table/tables-multiline-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables with multiple row cells test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with multiple row cells works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-multiline-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠼⠃⠀⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠀⠀⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠤⠤⠤⠤⠼⠋&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-leader2-input.obfl">
            Table with leader test<a href="#table/tables-leader2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with leaders works as expected.</p>
        <h2>table/tables-leader2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table with leader test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with leaders works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table preferred-empty-space="0" table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠁⠁⠁⠁&lt;/td&gt;
        &lt;td&gt;⠁⠁⠁⠁⠁⠁&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠁⠁⠁⠁&lt;/td&gt;
        &lt;td&gt;
          &lt;leader position="50%" pattern="⠤" align="center"/&gt;⠁⠁
          &lt;leader position="100%" pattern="⠤" align="right"/&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-leader2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠀⠁⠁⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠁⠁⠁⠁⠀⠤⠤⠁⠁⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-borders-input.obfl">
            Tables border, margin and padding test<a href="#table/tables-borders-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables can have borders, margins and paddings.</p>
        <h2>table/tables-borders-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables border, margin and padding test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables can have borders, margins and paddings.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="18" page-height="12" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table border-style="solid" border-align="outer" margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" padding-left="1" padding-right="1" padding-top="1" padding-bottom="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-borders-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="18" rows="12" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-missing-cell2-input.obfl">
            Tables test<a href="#table/tables-missing-cell2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-missing-cell2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td row-span="2"&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td row-span="2"&gt;4&lt;/td&gt;
        &lt;td row-span="2"&gt;5&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-missing-cell2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-row-spacing-input.obfl">
            Tables test<a href="#table/tables-row-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-row-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="12" duplex="true" row-spacing="2.0"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;table row-spacing="1.0"&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-row-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="12" rowgap="4" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
          &lt;row rowgap="0"&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row rowgap="0"&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row rowgap="0"&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-leader3-input.obfl">
            Table with leader test<a href="#table/tables-leader3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with leaders works as expected.</p>
        <h2>table/tables-leader3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table with leader test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with leaders works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table preferred-empty-space="0" table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠁⠁⠁⠁⠁⠁&lt;/td&gt;
        &lt;td&gt;⠁⠁⠁⠁&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;
          &lt;leader position="50%" pattern="⠤" align="center"/&gt;⠁⠁
          &lt;leader position="100%" pattern="⠤" align="right"/&gt;
        &lt;/td&gt;
        &lt;td&gt;⠁⠁⠁⠁&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-leader3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠁⠁⠁⠁⠀⠁⠁⠁⠁&lt;/row&gt;
          &lt;row&gt;⠤⠤⠁⠁⠤⠤⠀⠁⠁⠁⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-input.obfl">
            Tables test<a href="#table/tables-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-missing-cell5-input.obfl">
            Tables test<a href="#table/tables-missing-cell5-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-missing-cell5-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td row-span="2"&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-missing-cell5-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-anchor-input.obfl">
            Tables anchor test<a href="#table/tables-anchor-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with anchors works as expected.</p>
        <h2>table/tables-anchor-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables anchor test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with anchors works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
    &lt;page-area collection="footnotes" max-height="10"/&gt;
  &lt;/layout-master&gt;
  &lt;collection name="footnotes"&gt;
    &lt;item id="note-1"&gt;1&lt;/item&gt;
  &lt;/collection&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5
          &lt;anchor item="note-1"/&gt;
        &lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-anchor-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-marker-input.obfl">
            Tables markers test<a href="#table/tables-marker-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with markers works as expected.</p>
        <h2>table/tables-marker-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables markers test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with markers works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;marker-reference marker="pagenum" direction="forward" scope="sequence"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠀"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5
          &lt;marker class="pagenum" value="1"/&gt;
        &lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-marker-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-missing-cell3-input.obfl">
            Tables test<a href="#table/tables-missing-cell3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-missing-cell3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td row-span="2"&gt;2&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr/&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-missing-cell3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠼⠃⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-missing-cell4-input.obfl">
            Tables test<a href="#table/tables-missing-cell4-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-missing-cell4-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td row-span="3"&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-missing-cell4-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-align-input.obfl">
            Table align test<a href="#table/tables-align-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that table align works as expected.</p>
        <h2>table/tables-align-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table align test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that table align works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td align="left"&gt;⠤⠤ ⠤⠤⠤&lt;/td&gt;
        &lt;td align="center"&gt;⠤⠤ ⠤⠤⠤&lt;/td&gt;
        &lt;td align="right"&gt;⠤⠤ ⠤⠤⠤&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-align-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠀⠀⠀⠤⠤⠀⠀⠀⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-border2-input.obfl">
            Tables with borders test<a href="#table/tables-border2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with borders works as expected.</p>
        <h2>table/tables-border2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables with borders test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with borders works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td border-bottom-style="solid" border-bottom-align="inner"&gt;1&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-align="inner"&gt;2&lt;/td&gt;
        &lt;td border-bottom-style="solid" border-bottom-align="inner"&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-border2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠼⠃⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠉⠉⠉⠉⠀⠉⠉⠉⠉⠀⠉⠉⠉⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠼⠑⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠀⠼⠓⠀⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-shrink-input.obfl">
            Tables test<a href="#table/tables-shrink-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-shrink-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table preferred-empty-space="0"&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;123&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-shrink-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠼⠁⠃⠉⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-keep-row-input.obfl">
            Tables test<a href="#table/tables-keep-row-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-keep-row-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="3" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤⠤⠤⠤
          &lt;br/&gt;⠤⠤⠤⠤
        &lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-keep-row-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="3" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠤⠼⠓⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠤⠀⠀⠀⠀&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-shrink2-input.obfl">
            Tables test<a href="#table/tables-shrink2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables can complete layout even if a solution crashes.</p>
        <h2>table/tables-shrink2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables can complete layout even if a solution crashes.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td col-span="1" row-span="1"&gt;1&lt;/td&gt;
        &lt;td col-span="1" row-span="1"&gt;PROBLEM&lt;/td&gt;
        &lt;td col-span="1" row-span="1"&gt;overcome&lt;/td&gt;
        &lt;td col-span="1" row-span="1"&gt;to manage a problem successfully&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-shrink2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠠⠠⠕⠧⠞⠕⠀⠍⠁⠝⠤&lt;/row&gt;
          &lt;row&gt;⠁⠏⠗⠑⠗⠁⠛⠑⠀⠁&lt;/row&gt;
          &lt;row&gt;⠀⠕⠃⠤⠀⠏⠗⠕⠃⠇⠑⠍&lt;/row&gt;
          &lt;row&gt;⠀⠤⠀⠉⠕⠎⠥⠉⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠑⠍⠑⠉⠑⠎⠎⠤&lt;/row&gt;
          &lt;row&gt;⠀⠍⠀⠀⠀⠋⠥⠇⠇⠽&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-rowspan-input.obfl">
            Tables with colspan test<a href="#table/tables-rowspan-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with colspan works as expected. Note that multiline cells do not count towards
						preferred-empty-space, that's why the first column is bigger than the second.</p>
        <h2>table/tables-rowspan-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables with colspan test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with colspan works as expected. Note that multiline cells do not count towards
						preferred-empty-space, that's why the first column is bigger than the second.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td row-span="2"&gt;1
          &lt;br/&gt;3
        &lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-rowspan-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠀⠀⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠀⠀⠀⠀⠀⠼⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-colspan-input.obfl">
            Tables with colspan test<a href="#table/tables-colspan-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with colspan works as expected.</p>
        <h2>table/tables-colspan-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables with colspan test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with colspan works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table preferred-empty-space="12"&gt;
      &lt;tr&gt;
        &lt;td col-span="2"&gt;1&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td col-span="2"&gt;5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td col-span="3"&gt;7&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-colspan-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠼⠛&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-leader-input.obfl">
            Table with leader test<a href="#table/tables-leader-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with leaders works as expected. The leader doesn't interfere with 
		preferred-empty-space (which would be zero if included).</p>
        <h2>table/tables-leader-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table with leader test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with leaders works as expected. The leader doesn't interfere with 
		preferred-empty-space (which would be zero if included).&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table preferred-empty-space="12"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠁⠁&lt;/td&gt;
        &lt;td&gt;
          &lt;leader position="50%" pattern="⠤" align="center"/&gt;⠁⠁
          &lt;leader position="100%" pattern="⠤" align="right"/&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-leader-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠁⠁⠀⠀⠀⠀⠤⠤⠁⠁⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/table-in-block-input.obfl">
            Table inside block test<a href="#table/table-in-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests table inside blocks.</p>
        <h2>table/table-in-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Table inside block test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests table inside blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="15" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block align="center" margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
      &lt;block align="center" margin-top="1" margin-bottom="1" margin-left="1" margin-right="1"&gt;
        &lt;table preferred-empty-space="20"&gt;
          &lt;tr&gt;
            &lt;td align="center"&gt;⠿⠿⠿⠿&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/block&gt;
    &lt;/block&gt;
    &lt;block align="center" margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner" break-before="page"&gt;
      &lt;block align="center" margin-top="1" margin-bottom="1"&gt;
        &lt;block align="center" margin-left="2" margin-right="2" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
          &lt;block align="center" margin-top="1" margin-bottom="1" margin-left="1" margin-right="1"&gt;
            &lt;table preferred-empty-space="20"&gt;
              &lt;tr&gt;
                &lt;td align="center"&gt;⠿⠿⠿⠿&lt;/td&gt;
              &lt;/tr&gt;
            &lt;/table&gt;
          &lt;/block&gt;
        &lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/table-in-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="15" cols="20" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-col-spacing-input.obfl">
            Tables test<a href="#table/tables-col-spacing-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-col-spacing-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="11" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table table-col-spacing="1"&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
        &lt;td&gt;⠤⠤⠤&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
        &lt;td&gt;⠤​⠤​⠤​⠤​⠤​⠤​&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-col-spacing-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="11" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-missing-cell-input.obfl">
            Tables test<a href="#table/tables-missing-cell-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables works as expected.</p>
        <h2>table/tables-missing-cell-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="12" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-missing-cell-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="12" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="table/tables-border-input.obfl">
            Tables with borders test<a href="#table/tables-border-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that tables with borders works as expected.</p>
        <h2>table/tables-border-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tables with borders test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that tables with borders works as expected.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td border-left-style="solid"&gt;2&lt;/td&gt;
        &lt;td border-left-style="solid"&gt;3&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;7&lt;/td&gt;
        &lt;td border-left-style="solid"&gt;8&lt;/td&gt;
        &lt;td border-left-style="solid"&gt;9&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>table/tables-border-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠇⠼⠃⠀⠀⠇⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠀⠼⠑⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠇⠼⠓⠀⠀⠇⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="style-empty-input.obfl">
            Single empty style<a href="#style-empty-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests an empty style element</p>
        <h2>style-empty-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Single empty style&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests an empty style element&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block&gt;
      &lt;style name="table-cell-continued"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>style-empty-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠻⠻&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data-input.obfl">
            XML Data 1<a href="#xml-data/xml-data-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>[add description]</p>
        <h2>xml-data/xml-data-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data 1&lt;/dc:title&gt;
    &lt;dc:description&gt;[add description]&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="identity-processor"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:output method="xml" version="1.0" encoding="UTF-8" indent="no"/&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xsl:copy-of select="*"/&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="identity-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:block)=1" processor="identity-processor" cost="(+ (- 30 $min-block-width) $total-height)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="identity-renderer"&gt;
      &lt;block margin-bottom="1"&gt;
        &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿&lt;/block&gt;
      &lt;/block&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data6-input.obfl">
            XML Processor file import example<a href="#xml-data/xml-data6-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that xsl:include/xsl:import works in an xml-processor stylesheet.</p>
        <h2>xml-data/xml-data6-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Processor file import example&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that xsl:include/xsl:import works in an xml-processor stylesheet.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="9" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;file-reference uri="import.xsl"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="text()"&gt;
        &lt;xsl:value-of select="1"/&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/file-reference&gt;
  &lt;xml-processor name="import"&gt;
    &lt;xsl:stylesheet version="2.0" exclude-result-prefixes="obfl"&gt;
      &lt;xsl:import href="import.xsl"/&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;xsl:apply-templates select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:table|obfl:tr|obfl:td"&gt;
        &lt;xsl:copy&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/xsl:copy&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario processor="import" cost="1"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;3&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data6-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="9" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data5-input.obfl">
            XML Data minimum block size with matrix table<a href="#xml-data/xml-data5-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the correct scenario is selected when the min-block-size variable
		is used to determine the cost in a matrix table. The first scenario would be selected if the
		cost were the same in both cases.</p>
        <h2>xml-data/xml-data5-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data minimum block size with matrix table&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the correct scenario is selected when the min-block-size variable
		is used to determine the cost in a matrix table. The first scenario would be selected if the
		cost were the same in both cases.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="9" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="copy"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;xsl:copy-of select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="reverse"&gt;
    &lt;xsl:stylesheet version="2.0" exclude-result-prefixes="obfl"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;xsl:apply-templates select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;table&gt;
          &lt;xsl:apply-templates select="." mode="inner"/&gt;
        &lt;/table&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:table" mode="inner"&gt;
        &lt;xsl:param name="pos" select="1"/&gt;
        &lt;tr&gt;
          &lt;xsl:for-each select="obfl:tr"&gt;
            &lt;xsl:copy-of select="obfl:td[$pos]"/&gt;
          &lt;/xsl:for-each&gt;
        &lt;/tr&gt;
        &lt;xsl:if test="obfl:tr/obfl:td[$pos+1]"&gt;
          &lt;xsl:apply-templates select="." mode="inner"&gt;
            &lt;xsl:with-param name="pos" select="$pos+1"/&gt;
          &lt;/xsl:apply-templates&gt;
        &lt;/xsl:if&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="copy" cost="(- 14 $min-block-width)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="reverse" cost="(- 14 $min-block-width)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
          &lt;td&gt;3&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;4&lt;/td&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data5-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="9" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠼⠃⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠼⠉⠀⠀⠼⠋&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data2-input.obfl">
            XML Data 2<a href="#xml-data/xml-data2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>[add description]</p>
        <h2>xml-data/xml-data2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data 2&lt;/dc:title&gt;
    &lt;dc:description&gt;[add description]&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="matrix"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;block margin-bottom="1"&gt;Matrix table: 
            &lt;xsl:value-of select="count(/obfl:table/obfl:tr[1]/obfl:td)"/&gt;x
            &lt;xsl:value-of select="count(/obfl:table/obfl:tr)"/&gt;
          &lt;/block&gt;
          &lt;xsl:copy-of select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="staircase"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;block&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:tr"&gt;
        &lt;xsl:apply-templates select="obfl:td[1]"/&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:td"&gt;
        &lt;block margin-left="2"&gt;
          &lt;xsl:value-of select="text()"/&gt;
          &lt;xsl:apply-templates select="following-sibling::*[1]"/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="matrix" cost="(+ 1 $total-height)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="staircase" cost="(+ 0 $total-height)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;Table 1&lt;/block&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
          &lt;td&gt;3&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;4&lt;/td&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;7&lt;/td&gt;
          &lt;td&gt;8&lt;/td&gt;
          &lt;td&gt;9&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
    &lt;block&gt;Table 2&lt;/block&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
    &lt;block&gt;End&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠠⠍⠁⠞⠗⠊⠭&lt;/row&gt;
          &lt;row&gt;⠞⠁⠃⠇⠑⠒⠼⠉⠭⠼⠉&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
          &lt;row&gt;⠠⠞⠁⠃⠇⠑⠀⠼⠃&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠠⠑⠝⠙&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data4-input.obfl">
            XML Data minimum block size<a href="#xml-data/xml-data4-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that the correct scenario is selected when the min-block-size variable
		is used to determine the cost. The first scenario would be selected if the cost were
		the same in both cases.</p>
        <h2>xml-data/xml-data4-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data minimum block size&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that the correct scenario is selected when the min-block-size variable
		is used to determine the cost. The first scenario would be selected if the cost were
		the same in both cases.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="9" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="p1"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;block&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:tr"&gt;
        &lt;xsl:apply-templates select="obfl:td[1]"/&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:td"&gt;
        &lt;block margin-left="2"&gt;
          &lt;xsl:value-of select="text()"/&gt;
          &lt;xsl:apply-templates select="following-sibling::*[1]"/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="p2"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;block&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:tr"&gt;
        &lt;xsl:apply-templates select="obfl:td[1]"/&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:td"&gt;
        &lt;block margin-left="1"&gt;
          &lt;xsl:value-of select="text()"/&gt;
          &lt;xsl:apply-templates select="following-sibling::*[1]"/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="p1" cost="(- 14 $min-block-width)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="p2" cost="(- 14 $min-block-width)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
          &lt;td&gt;3&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;4&lt;/td&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;7&lt;/td&gt;
          &lt;td&gt;8&lt;/td&gt;
          &lt;td&gt;9&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data4-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="9" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠃&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠀⠼⠙&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠑&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠀⠼⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠓&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data7-input.obfl">
            XML Processor parameter example<a href="#xml-data/xml-data7-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that parameters can be passed to an xml-processor stylesheet.</p>
        <h2>xml-data/xml-data7-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Processor parameter example&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that parameters can be passed to an xml-processor stylesheet.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="9" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;file-reference uri="import.xsl"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:param name="text" select="'3'"/&gt;
      &lt;xsl:template match="text()"&gt;
        &lt;xsl:value-of select="$text"/&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/file-reference&gt;
  &lt;xml-processor name="import"&gt;
    &lt;xsl:stylesheet version="2.0" exclude-result-prefixes="obfl"&gt;
      &lt;xsl:import href="import.xsl"/&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;xsl:apply-templates select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:table|obfl:tr|obfl:td"&gt;
        &lt;xsl:copy&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/xsl:copy&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario processor="import" cost="2"&gt;
      &lt;parameter name="text" value="2"/&gt;
    &lt;/rendering-scenario&gt;
    &lt;rendering-scenario processor="import" cost="1"&gt;
      &lt;parameter name="text" value="1"/&gt;
    &lt;/rendering-scenario&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;3&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data7-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="9" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data-in-block-input.obfl">
            XML Data 1<a href="#xml-data/xml-data-in-block-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>[add description]</p>
        <h2>xml-data/xml-data-in-block-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data 1&lt;/dc:title&gt;
    &lt;dc:description&gt;[add description]&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="identity-processor"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:output method="xml" version="1.0" encoding="UTF-8" indent="no"/&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xsl:copy-of select="*"/&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="identity-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:block)=1" processor="identity-processor" cost="(+ (- 30 $min-block-width) $total-height)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;xml-data renderer="identity-renderer"&gt;
        &lt;block margin-bottom="1"&gt;
          &lt;block row-spacing="2.0"&gt;⠿⠿⠿⠿⠿⠿⠿⠿ ⠿⠿⠿⠿⠿⠿⠿⠿&lt;/block&gt;
        &lt;/block&gt;
      &lt;/xml-data&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data-in-block-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row rowgap="4"&gt;⠿⠿⠿⠿⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="xml-data/xml-data3-input.obfl">
            XML Data 3<a href="#xml-data/xml-data3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>[add description]</p>
        <h2>xml-data/xml-data3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;XML Data 3&lt;/dc:title&gt;
    &lt;dc:description&gt;[add description]&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;xml-processor name="matrix"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;block margin-bottom="1"&gt;Matrix table: 
            &lt;xsl:value-of select="count(/obfl:table/obfl:tr[1]/obfl:td)"/&gt;x
            &lt;xsl:value-of select="count(/obfl:table/obfl:tr)"/&gt;
          &lt;/block&gt;
          &lt;xsl:copy-of select="*"/&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="staircase"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="obfl:table"&gt;
        &lt;block&gt;
          &lt;xsl:apply-templates/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:tr"&gt;
        &lt;xsl:apply-templates select="obfl:td[1]"/&gt;
      &lt;/xsl:template&gt;
      &lt;xsl:template match="obfl:td"&gt;
        &lt;block margin-left="2"&gt;
          &lt;xsl:value-of select="text()"/&gt;
          &lt;xsl:apply-templates select="following-sibling::*[1]"/&gt;
        &lt;/block&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;xml-processor name="invalid"&gt;
    &lt;xsl:stylesheet version="2.0"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;xml-processor-result&gt;
          &lt;block&gt;Invalid&lt;/block&gt;
        &lt;/xml-processor-result&gt;
        &lt;xml-processor-result&gt;
          &lt;block&gt;Invalid&lt;/block&gt;
        &lt;/xml-processor-result&gt;
      &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
  &lt;/xml-processor&gt;
  &lt;renderer name="table-renderer"&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="matrix" cost="(+ 1 $total-height)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="staircase" cost="(+ 0 $total-height)"/&gt;
    &lt;rendering-scenario qualifier="count(/obfl:table)=1" processor="invalid" cost="(+ 0 $total-height)"/&gt;
  &lt;/renderer&gt;
  &lt;sequence master="body"&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;2&lt;/td&gt;
          &lt;td&gt;3&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;4&lt;/td&gt;
          &lt;td&gt;5&lt;/td&gt;
          &lt;td&gt;6&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;7&lt;/td&gt;
          &lt;td&gt;8&lt;/td&gt;
          &lt;td&gt;9&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
    &lt;xml-data renderer="table-renderer"&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
          &lt;td&gt;1234567&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/xml-data&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>xml-data/xml-data3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠠⠍⠁⠞⠗⠊⠭&lt;/row&gt;
          &lt;row&gt;⠞⠁⠃⠇⠑⠒⠼⠉⠭⠼⠉&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠼⠁⠀⠀⠼⠃⠀⠀⠼⠉&lt;/row&gt;
          &lt;row&gt;⠼⠙⠀⠀⠼⠑⠀⠀⠼⠋&lt;/row&gt;
          &lt;row&gt;⠼⠛⠀⠀⠼⠓⠀⠀⠼⠊&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠀⠼⠁⠃⠉⠙⠑⠋⠛&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="leader-right-multiple-input.obfl">
            Multiple leaders test<a href="#leader-right-multiple-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests multiple right aligned leaders on the same row</p>
        <h2>leader-right-multiple-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Multiple leaders test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests multiple right aligned leaders on the same row&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block id="chapter_1"&gt;⠤&lt;/block&gt;
    &lt;block&gt;
      &lt;leader pattern="⠄" position="30%" align="right"/&gt;1
      &lt;leader pattern="⠄" position="60%" align="right"/&gt;2
      &lt;leader pattern="⠄" position="100%" align="right"/&gt;3
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>leader-right-multiple-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-05-09&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠄⠼⠁⠄⠼⠃⠄⠄⠼⠉&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="current-page2-input.obfl">
            Tests page variable<a href="#current-page2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that variable page returns the current page number inside blocks.</p>
        <h2>current-page2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Tests page variable&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that variable page returns the current page number inside blocks.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="main" page-width="20" page-height="6" inner-margin="0" outer-margin="0" row-spacing="1" duplex="true"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="main" initial-page-number="1"&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
      &lt;br/&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
    &lt;block&gt;
      &lt;evaluate expression="(format {0} $page)"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>current-page2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="6" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
          &lt;row&gt;⠼⠁&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
          &lt;row&gt;⠼⠃&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="margin/margin2-input.obfl">
            <a href="#margin/margin2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p></p>
        <h2>margin/margin2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;layout-master name="body" page-width="20" page-height="15" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-bottom="1"&gt;⠿⠿⠿⠿&lt;/block&gt;
    &lt;block margin-top="1"&gt;⠿⠿⠿⠿&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>margin/margin2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier/&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="15" cols="20" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
          &lt;row/&gt;
          &lt;row&gt;⠿⠿⠿⠿&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="margin/margin-nested2-input.obfl">
            Nested borders margin test<a href="#margin/margin-nested2-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests margins with multiple borders.</p>
        <h2>margin/margin-nested2-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Nested borders margin test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests margins with multiple borders.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="15" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block align="center" margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
      &lt;block align="center" margin-top="1" margin-bottom="1" margin-left="1" margin-right="1"&gt;⠿⠿⠿⠿&lt;/block&gt;
    &lt;/block&gt;
    &lt;block align="center" margin-left="1" margin-right="1" margin-top="1" margin-bottom="1" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner" break-before="page"&gt;
      &lt;block align="center" margin-top="1" margin-bottom="1"&gt;
        &lt;block align="center" margin-left="2" margin-right="2" border-left-style="solid" border-left-align="outer" border-right-style="solid" border-right-align="outer" border-top-style="solid" border-top-align="inner" border-bottom-style="solid" border-bottom-align="inner"&gt;
          &lt;block align="center" margin-top="1" margin-bottom="1" margin-left="1" margin-right="1"&gt;⠿⠿⠿⠿&lt;/block&gt;
        &lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>margin/margin-nested2-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume rows="15" cols="20" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row&gt;⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠿⠿⠿⠿⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀&lt;/row&gt;
          &lt;row&gt;⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉&lt;/row&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="margin/margin-input.obfl">
            Collapsing margins test<a href="#margin/margin-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests that margins collapse properly.</p>
        <h2>margin/margin-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Collapsing margins test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests that margins collapse properly.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="14" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block margin-top="3" margin-bottom="2"&gt;
      &lt;block margin-top="2" margin-bottom="3"&gt;⠤⠤&lt;/block&gt;
    &lt;/block&gt;
    &lt;block margin-top="2" margin-bottom="2"&gt;⠤⠤&lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>margin/margin-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-07&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="14" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row/&gt;
          &lt;row/&gt;
          &lt;row&gt;⠤⠤&lt;/row&gt;
          &lt;row/&gt;
          &lt;row/&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="margin/margin-nested-input.obfl">
            Nested borders margin test<a href="#margin/margin-nested-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests margins with multiple borders. This test verifies that margins that are separated by
		borders aren't collapsed.</p>
        <h2>margin/margin-nested-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Nested borders margin test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests margins with multiple borders. This test verifies that margins that are separated by
		borders aren't collapsed.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="18" page-height="10" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block border-style="solid" border-width="1" margin-left="2" margin-right="2"&gt;
      &lt;block border-style="solid" border-width="1" margin-left="2" margin-right="2" margin-top="1" margin-bottom="1"&gt;
        &lt;block margin-left="1" margin-right="1" margin-top="1" margin-bottom="1"&gt;⠤​⠤​⠤​⠤​⠤​⠤&lt;/block&gt;
      &lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>margin/margin-nested-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-07-06&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="18" rows="10" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠏⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠹&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠏⠉⠉⠉⠉⠉⠉⠹⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠤⠤⠤⠤⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠤⠤⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠇⠀⠀⠀⠀⠀⠀⠸⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠧⠤⠤⠤⠤⠤⠤⠼⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠀⠀&lt;/row&gt;
          &lt;row&gt;⠀⠀⠧⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠼&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="leader-right-input.obfl">
            Single leader test<a href="#leader-right-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests a single right aligned leader with two items after (space and page number)</p>
        <h2>leader-right-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Single leader test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests a single right aligned leader with two items after (space and page number)&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="a" duplex="false" page-width="10" page-height="25"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="a"&gt;
    &lt;block id="chapter_1"&gt;⠤&lt;/block&gt;
    &lt;block&gt;
      &lt;leader pattern="⠄" position="100%" align="right"/&gt;
      &lt;page-number ref-id="chapter_1" number-format="default"/&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>leader-right-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-05-09&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="25" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤&lt;/row&gt;
          &lt;row&gt;⠄⠄⠄⠄⠄⠄⠄⠀⠼⠁&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="marker-indicator3-input.obfl">
            Margin region indicators with header test<a href="#marker-indicator3-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests margin region indicators together with header.</p>
        <h2>marker-indicator3-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Margin region indicators with header test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests margin region indicators together with header.&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="20" page-height="7" duplex="true" inner-margin="2" outer-margin="2"&gt;
    &lt;template use-when="(= (% $page 2) 0)"&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠭"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠽"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="3"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="sections" indicator="⠤"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/template&gt;
    &lt;default-template&gt;
      &lt;header&gt;
        &lt;field&gt;
          &lt;string value="⠭"/&gt;
        &lt;/field&gt;
        &lt;field&gt;
          &lt;string value="⠽"/&gt;
        &lt;/field&gt;
      &lt;/header&gt;
      &lt;footer/&gt;
      &lt;margin-region align="left" width="2"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="sections" indicator="⠤"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
      &lt;margin-region align="right" width="3"&gt;
        &lt;indicators&gt;
          &lt;marker-indicator markers="pages" indicator="⠿"/&gt;
        &lt;/indicators&gt;
      &lt;/margin-region&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="1"/&gt;
      &lt;marker class="pages" value="1"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="2"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤
    &lt;/block&gt;
    &lt;block&gt;
      &lt;marker class="sections" value="2"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
      &lt;marker class="pages" value="3"/&gt;⠶&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;⠤&shy;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>marker-indicator3-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="20" rows="7" rowgap="0" duplex="true"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠭⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠽&lt;/row&gt;
          &lt;row&gt;⠀⠀⠤⠀⠶⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠶⠤⠤⠤⠤⠤⠤⠤⠀⠀⠿&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠀⠀⠭⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠽&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠶⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠀⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠿⠀⠀⠤⠤⠤⠤⠤⠤⠤⠤⠶⠤⠤&lt;/row&gt;
          &lt;row&gt;⠀⠀⠀⠀⠀⠤⠤⠤⠤⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
        <h1 id="keep-input.obfl">
            Keep test<a href="#keep-input.obfl" class="internal"> &para;</a>
        </h1>
        <p>Tests the keep property</p>
        <h2>keep-input.obfl</h2>
        <pre class="example">
&lt;obfl version="2011-1" xml:lang="en"&gt;
  &lt;meta&gt;
    &lt;dc:title&gt;Keep test&lt;/dc:title&gt;
    &lt;dc:description&gt;Tests the keep property&lt;/dc:description&gt;
  &lt;/meta&gt;
  &lt;layout-master name="body" page-width="10" page-height="6" duplex="false"&gt;
    &lt;default-template&gt;
      &lt;header/&gt;
      &lt;footer/&gt;
    &lt;/default-template&gt;
  &lt;/layout-master&gt;
  &lt;sequence master="body"&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page"&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ &lt;/block&gt;
    &lt;/block&gt;
    &lt;block break-before="page"&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
      &lt;block keep="page" keep-with-next="1"&gt;⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤&lt;/block&gt;
      &lt;block&gt;⠤⠤⠤&lt;/block&gt;
    &lt;/block&gt;
  &lt;/sequence&gt;
&lt;/obfl&gt;</pre>
        <h2>keep-expected.pef</h2>
        <pre class="example">
&lt;pef version="2008-1"&gt;
  &lt;head&gt;
    &lt;meta&gt;
      &lt;dc:format&gt;application/x-pef+xml&lt;/dc:format&gt;
      &lt;dc:identifier&gt;identifier?&lt;/dc:identifier&gt;
      &lt;dc:date&gt;2015-05-09&lt;/dc:date&gt;
    &lt;/meta&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;volume cols="10" rows="6" rowgap="0" duplex="false"&gt;
      &lt;section&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
        &lt;page&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤⠀⠤⠤⠤&lt;/row&gt;
          &lt;row&gt;⠤⠤⠤&lt;/row&gt;
        &lt;/page&gt;
      &lt;/section&gt;
    &lt;/volume&gt;
  &lt;/body&gt;
&lt;/pef&gt;</pre>
    </body>
</html>
